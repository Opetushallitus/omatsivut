{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/main/less/main.less","webpack:///./src/main/less/hakutoiveidenMuokkaus.less","webpack:///./src/main/less/preview.less","webpack:///./src/main/js/recursionHelper.js","webpack:///./src/main/lib/angular-debounce.js","webpack:///./src/main/js/directives/applicationList.html","webpack:///./src/main/js/directives/notification.html","webpack:///./src/main/js/directives/question.html","webpack:///./src/main/js/directives/application.html","webpack:///./node_modules/moment/locale sync fi|sv|en-gb","webpack:///./src/main/js/directives/hakutoiveenVastaanotto.html","webpack:///./src/main/js/directives/ilmoittautuminen.html","webpack:///./src/main/js/directives/kela.html","webpack:///./src/main/js/directives/hakutoiveet.html","webpack:///./src/main/js/directives/valintatulos.html","webpack:///./src/main/js/directives/henkilotiedot.html","webpack:///./src/main/js/directives/applicationPeriods.html","webpack:///./src/main/components/lasnaoloilmoittautuminen/lasnaoloilmoittautuminen.html","webpack:///./src/main/lib/oph_urls.js/index.js","webpack:///./src/main/js/omatsivut-web-oph.js","webpack:///./src/main/js/constants.js","webpack:///./src/main/js/staticResources.js","webpack:///./src/main/js/util.js","webpack:///./src/main/js/models/question.js","webpack:///./src/main/js/services/applicationValidator.js","webpack:///./src/main/js/localization.js","webpack:///./src/main/js/restResources.js","webpack:///./src/main/js/settings.js","webpack:///./src/main/js/interceptors/nonSensitiveHakemus.js","webpack:///./src/main/js/config/router.js","webpack:///./src/main/js/models/hakutoive.js","webpack:///./src/main/js/models/hakemus.js","webpack:///./src/main/js/directives/applicationList.js","webpack:///./src/main/js/directives/question.js","webpack:///./src/main/js/directives/sortable.js","webpack:///./src/main/js/directives/application.js","webpack:///./src/main/js/moment.js","webpack:///./src/main/js/directives/hakutoiveenVastaanotto.js","webpack:///./src/main/js/directives/ilmoittautuminen.js","webpack:///./src/main/js/directives/hakutoiveet.js","webpack:///./src/main/js/directives/valintatulos.js","webpack:///./src/main/js/directives/henkilotiedot.js","webpack:///./src/main/js/directives/clearableInput.js","webpack:///./src/main/components/lasnaoloilmoittautuminen/lasnaoloilmoittautuminen.js","webpack:///./src/main/js/controllers/hakutoiveidenMuokkaus.js","webpack:///./src/main/js/controllers/additionalQuestionController.js","webpack:///./src/main/js/controllers/hakutoiveController.js","webpack:///./src/main/js/app.js","webpack:///./src/main/js/services/angularBacon.js","webpack:///./src/main/js/directives/notification.js","webpack:///./src/main/js/directives/confirm.js","webpack:///./src/main/js/directives/localizedLink.js","webpack:///./src/main/js/directives/formattedTime.js","webpack:///./src/main/js/directives/disableClickFocus.js","webpack:///./src/main/js/directives/kela.js","webpack:///./src/main/js/directives/applicationPeriods.js","webpack:///./src/main/js/directives/ignoreDirty.js","webpack:///./src/main/js/directives/callout.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","p","jsonpArray","window","webpackJsonp","oldJsonpFunction","slice","359","e","360","361","angular","factory","$compile","compile","element","link","isFunction","post","compiledContents","contents","remove","pre","scope","clone","append","arguments","service","$timeout","func","wait","immediate","timeout","args","context","debounce","this","callNow","cancel","366","367","368","369","map","./en-gb","./en-gb.js","./fi","./fi.js","./sv","./sv.js","webpackContext","req","id","webpackContextResolve","Error","code","keys","resolve","370","371","372","373","374","375","376","377","378","exportDest","urls","version","console","log","urls_config","omitEmptyValuesFromQuerystring","encode","arg","baseUrl","forEach","resolveConfig","defaultValue","configs","override","properties","defaults","enc","indexOf","encodeURIComponent","includeToQuerystring","v","ret","noEncode","url","tmpUrl","Array","queryString","k","originalValue","isArray","replace","values","separator","encodedKeyValue","substring","endsWith","startsWith","unshift","debug","debugLog","addProperties","props","mergePropertiesWithWarning","addDefaults","addOverride","successCBs","fulfillFailed","fulfillCount","fulfillCountDest","success","cb","loadFromUrls","jsonProperties","json","merge","index","method","onload","onerror","oReq","XMLHttpRequest","open","onreadystatechange","readyState","status","JSON","parse","responseText","send","checkfulfill","destProps","existsAlready","filter","alert","dest","from","arr","constructor","String","searchString","position","substr","subjectString","toString","isFinite","Math","floor","lastIndex","omatsivut.applications","omatsivut.applications.update","omatsivut.applications.validate","omatsivut.applications.vastaanota","omatsivut.applications.vastaanota.post","omatsivut.postitoimipaikka","omatsivut.koulutukset","omatsivut.opetuspisteet","omatsivut.translations","omatsivut.login","omatsivut.applications.tuloskirje","omatsivut.lasnaoloilmoittautuminen","380","a","u","h","f","VASTAANOTTOTILA","VASTAANOTTANUT_SITOVASTI","EI_VASTAANOTETTU_MAARA_AIKANA","EHDOLLISESTI_VASTAANOTTANUT","getLanguage","js_cookie_default","host","document","location","parts","split","domain","BEARER_TOKEN_KEY","_","mapArray","array","keyField","valueField","reduce","memo","item","indexBy","keyFunction","underscoreToCamelCase","str","toLowerCase","match","char1","char2","toUpperCase","withoutAngularFields","obj","isObject","val","getBearerToken","sessionStorage","getItem","isTestMode","parent","href","question_","questionDefaults","help","verboseHelp","required","questionType","title","question_Question","[object Object]","question","answer","validationErrors","extend","questionParameters","each","errors","concat","application","getOldValue","questionId","questionIdParts","exec","hakutoiveet","isNew","phaseAnswers","persistedAnswers","phaseId","oldAnswer","options","chain","option","Boolean","defaultOption","find","jsonQuestions","convertToItems","questions","results","questionNode","questionNodes","QuestionGroup","fromJson","rootNode","childrenAttribute","flatten","node","list","subnode","services_applicationValidator","restResources","currentRequest","onlyIfCurrentRequest","current","beforeBackendValidation","error","validatePreferences","validate","then","response","getQuestions","statusCode","isSaveable","localization_","localize","vars","path","translations","js_restResources","$resource","$http","applications","update","oid","toJson","vastaanota","postOffice","koulutukset","opetuspisteet","lasnaoloilmoittautuminen","js_settings","$animate","enabled","uiTransitionTime","modelDebounce","uiIndicatorDebounce","shouldAuthenticate","config","includes","HakemusInterceptor","request","decodedUrl","decodeURIComponent","headers","Authorization","jsonWebToken","token","setItem","oiliJwt","router","$httpProvider","$locationProvider","html5Mode","interceptors","hakutoive_","hakutoiveErrorRegexp","hakutoive_Hakutoive","importJson","isModified","isEmpty","addedDuringCurrentSession","hakemusData","hakuaikaId","kohdekohtainenHakuaika","koulutuksenAlkaminen","ohjeetUudelleOpiskelijalle","Opetuspiste","setErrors","koulutus","x","Koulutus","educationDegree","teachingLanguages","sora","aoIdentifier","kaksoistutkinto","vocational","educationCodeUri","athleteEducation","kysytaanHarkinnanvaraiset","attachments","requiredBaseEducations","join","addGroupInfo","attachmentGroups","aoGroups","organizationGroups","group","groupTypes","usageGroups","self","test","Number","errorsJson","errorMap","any","isHakutoiveError","hakutoive","rest","without","first","hakemus_","hakemus_Hakemus","hakemus","updated","haku","copy","state","hasForm","educationBackground","notifications","henkilotiedot","isUndefined","answers","henkiloNimi","etunimi","Etunimet","Kutsumanimi","Sukunimi","additionalQuestions","tuloskirje","date","Date","created","yyyy","getFullYear","mm","getMonth","dd","getDate","createdDate","tulosOk","requiredPaymentState","calculatedValues","hakemusSource","previewUrl","updatePreferenceQuestionIds","hasData","to","setAsModified","lastFilledItem","preferenceLocked","active","applicationPeriodId","period","applicationPeriods","hasResultState","valintatulosHakutoiveet","hasSomeResults","some","valintatila","valintatulos","every","editHakutoiveetEnabled","vastaanotettavuustila","vastaanottotila","tulos","ilmoittautumistila","ilmoittauduttavissa","kelaURL","head","ilmoittautumistapa","resultStates","contains","hakuOid","removeFalseBooleans","isBoolean","contactDetails","additionalQuestionAnswers","questionMap","savedApplication","isEqual","$","setAsSaved","hakukohteet","paymentInfo","hakemusPaid","showPaymentNotification","isValid","lastIndexWithData","applicationPeriodsInactive","oldQuestions","newQuestions","ignored","oldQ","omit","Q","equals","currentQuestions","compareQuestionMapsIgnoring","old","oldQuestion","newQuestion","skipQuestions","hakutoiveMap","unhandled","errorList","appendErrors","questionIdToHakutoiveId","manipulationF","newIndexes","range","indexes","newId","applicationList_","applicationList","restrict","template","$scope","attrs","loadApplications","applicationStatusMessage","applicationStatusMessageType","allApplicationsFetched","isHakutoiveidenMuokkaus","err","$on","directives_question_","RecursionHelper","level","iElement","iAttrs","controller","transcludeFn","isGroup","sortable","settings","$element","slide","el","offset","css","resetSlide","transition","transform","arrowClicked","elementF","evt","btn","target","hasClass","element1","closest","sortableItem","element2","diffY","abs","top","outerHeight","setTimeout","$apply","items","sortableMoved","on","application_","directives_application","applicationValidator","localization","applicationValidatorBounced","applicationChanged","applicationForm","$setDirty","statusMessageType","setStatusMessage","validateHakutoiveet","setValidatingIndicator","importQuestions","importHakuajat","importPaymentInfo","tuloskirjeet","updateValidationMessages","updateQuestions","hasHakutoiveErrors","msg","type","statusMessage","isValidating","timestampLabel","received","shouldSaveButtonBeDisabled","$pristine","statusMessageStyleModifier","ajax-spinner","$watch","Koulutus-id","Opetuspiste-id","oldHakutoiveet","answersToAdditionalQuestions","otherAnswers","oldAnswers","hakutoiveVastaanotettu","mergeSavedApplication","$emit","preferenceMoved","isVisible","unhandledMessages","message","parseHakutoiveIndex","saveApplication","eq","addClass","removeClass","getChangedPreferences","$broadcast","requiresAdditionalInfo","$setPristine","$applicationHeader","scrollTop","offsetTop","scrollIntoView","at","ot","moment_language","moment_default","locale","js_moment","hakutoiveenVastaanotto_HakutoiveenVastaanottoController","email","$parent","dt","format","ajaxPending","vastaanottoSentSuccessfully","vastaanottoAction","isVastaanottoKesken","isRejectSelected","confirmCancelAction","isKkHaku","toisenasteenhaku","siirtohakuClass","pathParams","hakemusOid","applicationOid","hakukohdeOid","action","hakukohdeNimi","tarjoajaNimi","$promise","onSuccess","onError","updatedApplication","callback","errorKey","$inject","valintatulos_","directives_valintatulos","isFinal","hyvaksytty","tilanKuvaus","tilanKuvaukset","language","formatDate","moment","getError","isHyvaksyttyKesken","valintatulokset","firstKeskenIndex","findIndex","valintatulosText","ehdollisenHyvaksymisenKenttaEhto","varasijojaTaytetaanAsti","varasija","varasijanumero","varasijaPvm","ehdollisestiHyvaksyttavissa","ehdollisenHyvaksymisenEhtoKoodi","vastaanotaSitovasti","hakukohde","valintatulosStyle","directives_henkilotiedot","angularBacon","yhteystiedot","postalCode","watch","skipDuplicates","query","resource","len","responses","flatMapLatest","onValue","Postinumero","clearableInput","$parse","wrapper","class","clearBtn","wrap","prepend","ngModel","assign","toggle","ilmoittautumisaika","tehty","ilmoittautunut","states","semester","autumn","spring","reserveStates","LASNA_KOKO_LUKUVUOSI","LASNA_SYKSY","LASNA","init","kausiUri","ilmoittautuminen","postLasnaoloilmoittautuminen","body","muokkaaja","tila","selite","save","stringify","getStateTranslation","getErrorTranslation","schoolStartsInSpring","schoolStartsInAutumn","getEnrolmentMessageKeys","ilmoittautumisenAikaleima","toLocaleDateString","time","toLocaleTimeString","controllers_hakutoiveidenMuokkaus","$location","matches","loadApplication","loading","hash","suffix","allowVastaanotto","Henkilotunnus","user","errorMessage","infoMessage","lang","logout","removeItem","loggedOut","additionalQuestionController","questionAnswered","hakutoiveController_","hakutoiveController","isEditingDisabled","isEditable","$index","isKoulutusSelectable","hasOpetuspiste","koulutusList","isLoadingKoulutusList","showNotification","isNonPrioritizedAndEditable","usePriority","opetuspisteValittu","$item","$model","$label","setOpetuspiste","asId","opetuspisteId","baseEducation","uiLang","valittuKoulutus","setKoulutus","opetuspisteModified","clear","removeOpetuspisteData","removeHakutoive","removePreference","addPreference","canRemovePreference","hasPreference","koulutusValittu","findOpetuspiste","Service","login","getUser","Promise","reject","fetch","credentials","catch","listApp","angular_default","angular_resource_default","angular_sanitize_default","angular_animate_default","angular_cookies_default","typeahead_default","logExceptionToPiwik","_paq","warn","expression","stream","Bacon_default","Bus","prevVal","queryParams","fromNodeCallback","directive","visible","close","originalText","text","off","hide","confirmText","one","fadeIn","linkString","attr","end","formattedTime","event","preventDefault","bindToController","controllerAs","oili","statesToReport","POISSA_KOKO_LUKUVUOSI","POISSA_SYKSY","POISSA","linkkiOK","ilmoittautumistietoNaytetaan","pop","kela","validating","movePreference","periods","applicationPeriodString","statusString","getTime","require","elm","ctrl","fadeOut","calloutId","callout","run","$rootScope","$cookies","common","clientSubSystemCode","CSRF","ready","async","documentElement","bootstrap","getElementsByTagName","setAttribute","errorMsg","lineNumber","columnNumber","exception","stack"],"mappings":"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","file":"index.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/omatsivut/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([380,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"css/main.css\";","module.exports = __webpack_public_path__ + \"css/hakutoiveidenMuokkaus.css\";","module.exports = __webpack_public_path__ + \"css/preview.css\";","/*\n * An Angular service which helps with creating recursive directives.\n * @author Mark Lagendijk\n * @license MIT\n */\nangular.module('RecursionHelper', []).factory('RecursionHelper', ['$compile', function($compile){\n  return {\n    /**\n     * Manually compiles the element, fixing the recursion loop.\n     * @param element\n     * @param [link] A post-link function, or an object with function(s) registered via pre and post properties.\n     * @returns An object containing the linking functions.\n     */\n    compile: function(element, link){\n      // Normalize the link parameter\n      if(angular.isFunction(link)){\n        link = { post: link };\n      }\n\n      // Break the recursion loop by removing the contents\n      var contents = element.contents().remove();\n      var compiledContents;\n      return {\n        pre: (link && link.pre) ? link.pre : null,\n        /**\n         * Compiles and re-adds the contents\n         */\n        post: function(scope, element){\n          // Compile the contents\n          if(!compiledContents){\n            compiledContents = $compile(contents);\n          }\n          // Re-add the compiled contents to the element\n          compiledContents(scope, function(clone){\n            element.append(clone);\n          });\n\n          // Call the post-linking function, if any\n          if(link && link.post){\n            link.post.apply(null, arguments);\n          }\n        }\n      };\n    }\n  };\n}]);","angular.module('debounce', [])\n  .service('debounce', ['$timeout', function ($timeout) {\n    return function (func, wait, immediate) {\n      var timeout, args, context, result;\n      function debounce() {\n        /* jshint validthis:true */\n        context = this;\n        args = arguments;\n        var later = function () {\n          timeout = null;\n          if (!immediate) {\n            result = func.apply(context, args);\n          }\n        };\n        var callNow = immediate && !timeout;\n        if (timeout) {\n          $timeout.cancel(timeout);\n        }\n        timeout = $timeout(later, wait);\n        if (callNow) {\n          result = func.apply(context, args);\n        }\n        return result;\n      }\n      debounce.cancel = function () {\n        $timeout.cancel(timeout);\n        timeout = null;\n      };\n      return debounce;\n    };\n  }])","module.exports = \"<div role=\\\"presentation\\\" id=\\\"appRoot\\\">\\n\\n  <p ng-if=\\\"localization('message.generalNotification') != 'none'\\\">{{ localization('message.generalNotification') }}</p>\\n\\n  <h1>{{ localization('title.omatHakemukset') }}</h1>\\n\\n  <div class=\\\"application-list-status\\\"\\n       ng-if=\\\"applicationStatusMessage.length > 0\\\"\\n       ng-class=\\\"applicationStatusMessageType\\\" ng-cloak\\n       role=\\\"status\\\">\\n      <span>\\n          {{ localization(applicationStatusMessage) }}\\n      </span>\\n  </div>\\n\\n\\n    <p class=\\\"application-list_ataru-applications-not-loaded\\\"\\n       ng-if=\\\"!allApplicationsFetched && applicationStatusMessage == ''\\\">{{ localization('info.allApplicationsNotFetched') }}</p>\\n\\n  <ul id=\\\"hakemus-list\\\" aria-label=\\\"{{ localization('title.omatHakemukset') }}\\\" ng-cloak>\\n      <li ng-repeat=\\\"application in applications\\\" class=\\\"application\\\" data-oid=\\\"{{application.oid}}\\\">\\n          <application application=\\\"application\\\"></application>\\n      </li>\\n  </ul>\\n</div>\\n\"","module.exports = \"<div class=\\\"notification\\\" ng-if=\\\"visible\\\">\\n    <img ng-click=\\\"close()\\\" src=\\\"img/close.png\\\" class=\\\"close\\\">\\n    <div ng-bind-html=\\\"message\\\"></div>\\n</div>\"","module.exports = \"<div ng-switch=\\\"isGroup()\\\" ng-controller=\\\"additionalQuestionController\\\">\\n    <div ng-switch-when=\\\"true\\\" class=\\\"question-group\\\">\\n        <div ng-if=\\\"level == 0\\\" class=\\\"application-section-heading\\\">\\n            <span ng-show=\\\"questionNode.title.length > 0\\\">{{localization(\\\"label.questionGroupWithTitle\\\")}}:</span>\\n            <span ng-show=\\\"questionNode.title.length == 0\\\">{{localization(\\\"label.questionGroupWithoutTitle\\\")}}:</span>\\n            {{ questionNode.title }}\\n        </div>\\n        <label ng-if=\\\"level > 0\\\" class=\\\"question-group-title\\\">{{ questionNode.title }}:</label>\\n\\n        <div ng-class=\\\"{ 'question-group-indent': level > 0, 'question-group-section': level == 0 }\\\" ng-repeat=\\\"subItem in questionNode.questionNodes\\\">\\n            <question question-node=\\\"subItem\\\" application=\\\"application\\\" level=\\\"level+1\\\">\\n            </question>\\n        </div>\\n    </div>\\n\\n    <div ng-switch-when=\\\"false\\\" class=\\\"question\\\">\\n        <div class=\\\"infoText\\\" ng-if=\\\"questionNode.questionType === 'RichText'\\\" ng-bind-html=\\\"questionNode.title\\\"></div>\\n        <label ng-if=\\\"questionNode.questionType !== 'RichText'\\\" class=\\\"title\\\" ng-bind-html=\\\"questionNode.title\\\"></label>\\n        <i class=\\\"icon-info-circled verboseHelp\\\" ng-if=\\\"questionNode.verboseHelp\\\" title=\\\"{{questionNode.verboseHelp}}\\\"></i>\\n        <span class=\\\"validation-message error\\\">{{ questionNode.errors.join(', ') }}</span>\\n        <div class=\\\"instruction helptext\\\" ng-if=\\\"questionNode.help\\\" ng-bind-html=\\\"questionNode.help\\\"></div>\\n\\n        <span class=\\\"answer\\\"\\n              ng-init=\\\"questionType = questionNode.questionType === 'Text' && questionNode.maxlength > 100 ? 'TextArea' : questionNode.questionType\\\"\\n              ng-switch=\\\"questionType\\\">\\n            <input id=\\\"{{questionNode.id.questionId}}\\\" type=\\\"text\\\"\\n                   ng-switch-when=\\\"Text\\\"\\n                   ng-blur=\\\"questionAnswered()\\\"\\n                   ng-model=\\\"questionNode.answer\\\"\\n                   maxlength=\\\"{{questionNode.maxlength}}\\\"/>\\n            <textarea id=\\\"{{questionNode.id.questionId}}\\\"\\n                      ng-switch-when=\\\"TextArea\\\"\\n                      ng-model=\\\"questionNode.answer\\\"\\n                      ng-blur=\\\"questionAnswered()\\\"\\n                      maxlength=\\\"{{questionNode.maxlength}}\\\"\\n                      rows=\\\"{{questionNode.rows || 4}}\\\"\\n                      cols=\\\"{{questionNode.cols || 80}}\\\"\\n                    />\\n            <select ng-switch-when=\\\"Dropdown\\\"\\n                    ng-model=\\\"questionNode.answer\\\"\\n                    ng-options=\\\"option.value as option.title for option in questionNode.options\\\"\\n                    ng-change=\\\"questionAnswered()\\\">\\n            </select>\\n\\n            <div ng-switch-when=\\\"Radio\\\">\\n                <label class=\\\"radio-button-item\\\" ng-repeat=\\\"option in questionNode.options\\\">\\n                    <input name=\\\"{{questionNode.id.questionId}}\\\" type=\\\"radio\\\"\\n                           ng-model=\\\"questionNode.answer\\\"\\n                           ng-change=\\\"questionAnswered()\\\"\\n                           value={{option.value}} />\\n                    <span ng-bind-html=\\\"option.title\\\"></span>\\n                </label>\\n            </div>\\n\\n            <div ng-switch-when=\\\"Checkbox\\\">\\n                <label class=\\\"radio-button-item\\\" ng-repeat=\\\"option in questionNode.options\\\">\\n                    <input type=\\\"checkbox\\\"\\n                           ng-change=\\\"questionAnswered()\\\"\\n                           ng-model=\\\"questionNode.answer[option.value]\\\">\\n                    <span ng-bind-html=\\\"option.title\\\"></span>\\n                </label>\\n            </div>\\n        </span>\\n    </div>\\n</div>\\n\"","module.exports = \"<div role=\\\"presentation\\\" class=\\\"hakemuseditori\\\">\\n    <section class=\\\"application-header\\\">\\n        <h2>{{application.haku.name }}</h2>\\n\\n        <application-periods haku=\\\"application.haku\\\"></application-periods>\\n\\n        <div class=\\\"timestamp-row\\\" ng-show=\\\"application.haku.jarjestelmanHakulomake || application.hakemusSource === 'Ataru'\\\">\\n            <i ng-if=\\\"application.previewUrl\\\" aria-hidden=\\\"true\\\" class=\\\"icon-doc-text\\\"></i>\\n            <a ng-if=\\\"application.previewUrl\\\"\\n               ng-href=\\\"{{ application.previewUrl }}\\\"\\n               ng-class=\\\"{disabled: applicationForm.$dirty|| statusMessageType=='pending' || isValidating}\\\"\\n               target=\\\"_blank\\\">{{ localization('button.showApplication') }}</a>\\n            <span ng-if=\\\"application.tuloskirje && application.tuloskirje.createdDate\\\">\\n                <span class=\\\"delimiter\\\"> | </span>\\n                <a class=\\\"tuloskirje\\\" ng-href=\\\"{{url('omatsivut.applications.tuloskirje',application.haku.oid)}}\\\" ng-show=\\\"application.hasForm\\\" ng-class=\\\"{disabled: applicationForm.$dirty|| statusMessageType=='pending' || isValidating}\\\" target=\\\"_blank\\\">\\n                    {{ localization('button.downloadLetter', {\\n                    luotu: application.tuloskirje.createdDate\\n                    }) }}\\n                </a>\\n            </span>\\n            <span class=\\\"timestamp\\\" ng-if=\\\"false\\\" ng-class=\\\"{disabled: form.$dirty || statusMessageType=='pending' || isValidating}\\\">\\n                {{ timestampLabel() }} <time formatted-time=\\\"application.updated\\\" format=\\\"LLL\\\" />\\n            </span>\\n            <div callout=\\\"attachments\\\"\\n                 ng-if=\\\"application.previewUrl\\\">\\n                <localized-link key=\\\"message.rememberSendAttachments\\\"\\n                                href=\\\"{{ application.previewUrl + '#liitteet' }}\\\"\\n                                target=\\\"_blank\\\">\\n                </localized-link>\\n            </div>\\n        </div>\\n    </section>\\n\\n    <section class=\\\"application-status\\\" role=\\\"presentation\\\">\\n        <div class=\\\"application-status-item\\\" ng-if=\\\"!application.haku.active && application.state.id != 'HAKUKIERROSPAATTYNYT' && !application.allResultsAvailable() && application.vastaanotettavatHakutoiveet().length == 0\\\">\\n            {{ localization('label.applicationPeriodEnded') }}\\n            <span ng-if=\\\"application.haku.aikataulu.julkistus\\\">\\n                {{ localization('label.resultsPublishedDate') }} <time formatted-time=\\\"application.haku.aikataulu.julkistus.end\\\" format=\\\"LL\\\" />.\\n            </span>\\n        </div>\\n\\n        <div class=\\\"application-status-item\\\" ng-if=\\\"application.state.id == 'HAKUKIERROSPAATTYNYT'\\\">\\n            {{ localization('label.applicationRoundEnded') }}\\n        </div>\\n\\n        <div class=\\\"application-status-item\\\" ng-if=\\\"application.haku.active && (application.state.id == 'POSTPROCESSING' || application.state.id == 'SUBMITTED')\\\">\\n            {{ localization(\\\"message.applicationIsInPostProcessing\\\") }}\\n        </div>\\n\\n        <div class=\\\"paymentStatus\\\">\\n            <div ng-if=\\\"application.requiredPaymentState == 'OK'\\\" class=\\\"alert alert-success\\\">\\n                {{ localization(\\\"payment.status.ok\\\") }}\\n            </div>\\n            <div ng-if=\\\"application.requiredPaymentState == 'NOTIFIED'\\\" class=\\\"alert alert-info\\\">\\n                {{ localization(\\\"payment.status.notified\\\") }}\\n            </div>\\n            <div ng-if=\\\"application.requiredPaymentState == 'NOT_OK'\\\" class=\\\"alert alert-danger\\\">\\n                {{ localization(\\\"payment.status.notOk\\\") }}\\n            </div>\\n        </div>\\n    </section>\\n\\n    <section class=\\\"hakutoiveen-vastaanotto\\\" ng-if=\\\"application.vastaanotettavatHakutoiveet().length > 0\\\">\\n        <hakutoiveen-vastaanotto\\n                application-oid=\\\"application.oid\\\"\\n                haku=\\\"application.haku\\\"\\n                hakutoiveet=\\\"application.vastaanotettavatHakutoiveet()\\\"\\n                callback=\\\"hakutoiveVastaanotettu\\\"\\n        ></hakutoiveen-vastaanotto>\\n    </section>\\n\\n    <section class=\\\"ilmoittautuminen\\\">\\n        <ilmoittautuminen hakukohteet=\\\"application.ilmoittautumisLinkit()\\\"\\n                          oili=\\\"application.oiliUrl()\\\"\\n                          application=\\\"application\\\">\\n        </ilmoittautuminen>\\n        <kela ng-show=\\\"application.kelaURL()\\\" kela=\\\"application.kelaURL()\\\">\\n        </kela>\\n    </section>\\n\\n    <form name=\\\"applicationForm\\\" novalidate>\\n\\n        <section class=\\\"application-section application-valintatulos-error\\\" ng-if=\\\"!application.resultFetchedSuccessfully()\\\">\\n            <span role=\\\"status\\\" class=\\\"status-message error\\\">{{ localization(\\\"error.valintatulosFailed\\\") }}</span>\\n        </section>\\n\\n        <section class=\\\"application-section application-valintatulos\\\" ng-if=\\\"application.resultFetchedSuccessfully() &&\\n                                                                             application.hasSomeResults() &&\\n                                                                             (application.hasSomeNonKeskenResults() || !application.editHakutoiveetEnabled())\\\">\\n            <valintatulos\\n                    application=\\\"application\\\"\\n                    data=\\\"application.state.valintatulos\\\"\\n                    final=\\\"application.allResultsAvailable()\\\"\\n                    callback=\\\"hakutoiveVastaanotettu\\\"\\n            ></valintatulos>\\n        </section>\\n\\n        <section ng-show=\\\"application.hasForm\\\" class=\\\"application-section hakutoiveet\\\" ng-if=\\\"application.editHakutoiveetEnabled()\\\">\\n            <header class=\\\"application-section-heading\\\">\\n                <span>{{ localization('label.preferences') }}</span>\\n                <button class=\\\"save-btn\\\" ng-hide=\\\"application.applicationPeriodsInactive()\\\" ng-disabled=\\\"shouldSaveButtonBeDisabled()\\\" ng-click=\\\"saveApplication()\\\">{{ localization('button.save') }}</button>\\n                <span role=\\\"status\\\" class=\\\"status-message\\\" ng-class=\\\"statusMessageStyleModifier()\\\" ng-bind=\\\"statusMessage\\\"></span>\\n            </header>\\n\\n              <hakutoiveet application=\\\"application\\\" preference-moved=\\\"preferenceMoved\\\" validating=\\\"isValidating\\\">\\n              </hakutoiveet>\\n          </section>\\n\\n        <section ng-show=\\\"application.hasForm\\\" class=\\\"application-section additional-questions\\\" ng-if=\\\"application.editHakutoiveetEnabled() && application.additionalQuestions.questionNodes.length > 0\\\">\\n            <question question-node=\\\"application.additionalQuestions\\\" application=\\\"application\\\" class=\\\"questions\\\" level=\\\"-1\\\">\\n            </question>\\n        </section>\\n\\n        <section ng-show=\\\"application.hasForm && !application.isHakutoiveidenMuokkaus\\\" class=\\\"application-section henkilotiedot\\\" ng-if=\\\"application.editHenkilotiedotEnabled()\\\">\\n            <header class=\\\"application-section-heading\\\">\\n                {{ localization('label.contactDetails') }}\\n            </header>\\n\\n            <henkilotiedot application=\\\"application\\\">\\n            </henkilotiedot>\\n            <header class=\\\"application-section-heading\\\" ng-if=\\\"!application.editHakutoiveetEnabled()\\\">\\n                <button class=\\\"save-btn\\\" ng-disabled=\\\"shouldSaveButtonBeDisabled()\\\" ng-click=\\\"saveApplication()\\\">{{ localization('button.save') }}</button>\\n                <span role=\\\"status\\\" class=\\\"status-message\\\" ng-class=\\\"statusMessageStyleModifier()\\\" ng-bind=\\\"statusMessage\\\"></span>\\n            </header>\\n        </section>\\n        <section ng-show=\\\"application.hasForm\\\" class=\\\"application-section application-footer\\\" ng-if=\\\"application.editHakutoiveetEnabled()\\\">\\n            <header class=\\\"application-section-heading\\\">\\n                <button class=\\\"save-btn\\\" ng-disabled=\\\"shouldSaveButtonBeDisabled()\\\" ng-click=\\\"saveApplication()\\\">{{ localization('button.save') }}</button>\\n                <span role=\\\"status\\\" class=\\\"status-message\\\" ng-class=\\\"statusMessageStyleModifier()\\\" ng-bind=\\\"statusMessage\\\"></span>\\n            </header>\\n        </section>\\n    </form>\\n</div>\\n\"","var map = {\n\t\"./en-gb\": 95,\n\t\"./en-gb.js\": 95,\n\t\"./fi\": 96,\n\t\"./fi.js\": 96,\n\t\"./sv\": 97,\n\t\"./sv.js\": 97\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 369;","module.exports = \"<form name=\\\"vastaanottoForm\\\" novalidate>\\n  <div ng-form name=\\\"innerForm\\\" class=\\\"hakutoiveenVastaanotto fade-transitions\\\" ng-repeat=\\\"hakutoive in ctrl.hakutoiveet()\\\">\\n      <header class=\\\"hakutoiveenVastaanotto-caption thumb-up\\\">\\n          <strong>{{ localization('message.acceptEducation.received') }}</strong>\\n           {{ hakutoive.tarjoajaNimi }} - {{ hakutoive.hakukohdeNimi }}\\n      </header>\\n\\n      <div class=\\\"hakutoive-vastaanotettavissa\\\" ng-if=\\\"hakutoive.vastaanottoDeadline\\\">\\n           {{ localization('message.acceptEducation.latestAnswer', { aika: ctrl.formatTimestamp(hakutoive.vastaanottoDeadline) }) }}\\n      </div>\\n      <div class=\\\"hakutoive-vain-yksi-valittavissa\\\" ng-if=\\\"ctrl.haku().showSingleStudyPlaceEnforcement\\\">\\n          {{ localization('message.acceptEducation.onlyOnePossible.1') }}\\n          <span class=\\\"vain-yksi\\\">{{ localization('message.acceptEducation.onlyOnePossible.2') }}</span>\\n          {{ localization('message.acceptEducation.onlyOnePossible.3') }}\\n      </div>\\n      <div class=\\\"hakutoive-siirtohaku {{ctrl.siirtohakuClass}}\\\" ng-if=\\\"ctrl.haku().korkeakouluhaku && ctrl.haku().siirtohaku\\\">\\n          {{ localization('message.siirtohaku') }}\\n      </div>\\n\\n      <ul class=\\\"hakutoive-options\\\">\\n          <li>\\n            <label>\\n              <input type=\\\"radio\\\" name=\\\"vastaanotettavaHakutoive\\\" value=\\\"VastaanotaSitovasti\\\" ng-model=\\\"ctrl.vastaanottoAction\\\" ng-disabled=\\\"ctrl.isVastaanottoKesken()\\\" ng-click=\\\"ctrl.flashSiirtohakuNotification()\\\"/>\\n              {{ ctrl.haku().toisenasteenhaku ? localization('message.acceptEducation.acceptToinenAste') : localization('message.acceptEducation.accept') }}\\n            </label>\\n          </li>\\n          <li ng-show=\\\"hakutoive.vastaanotettavuustila == 'VASTAANOTETTAVISSA_EHDOLLISESTI'\\\">\\n              <label>\\n              <input type=\\\"radio\\\" name=\\\"vastaanotettavaHakutoive\\\" value=\\\"VastaanotaEhdollisesti\\\"\\n                     ng-model=\\\"ctrl.vastaanottoAction\\\" ng-disabled=\\\"ctrl.isVastaanottoKesken()\\\"/>\\n                {{ localization('message.acceptEducation.conditionalAccept') }}\\n              </label>\\n              <ul class=\\\"info\\\">\\n                  <li>{{ localization('message.acceptEducation.conditionalAcceptInfo1') }}</li>\\n                  <li>{{ localization('message.acceptEducation.conditionalAcceptInfo2') }}</li>\\n              </ul>\\n          </li>\\n          <li>\\n            <label>\\n              <input type=\\\"radio\\\" name=\\\"vastaanotettavaHakutoive\\\" value=\\\"Peru\\\" ng-model=\\\"ctrl.vastaanottoAction\\\" ng-disabled=\\\"ctrl.isVastaanottoKesken()\\\"/>\\n              {{ localization('message.acceptEducation.reject') }}\\n            </label>\\n          </li>\\n          <li ng-if=\\\"ctrl.vastaanottoAction === 'Peru' && ctrl.isKkHaku()\\\">\\n            <label>\\n              <input type=\\\"checkbox\\\" name=\\\"confirmRejection\\\" ng-model=\\\"ctrl.confirmCancelAction\\\"/>\\n              {{ localization('message.acceptEducation.confirmReject') }}\\n            </label>\\n          </li>\\n      </ul>\\n\\n      <div>\\n          <span class=\\\"ajax-spinner\\\" ng-show=\\\"ctrl.ajaxPending\\\"></span>\\n          <button class=\\\"vastaanota-btn\\\" disable-click-focus\\n                  ng-click=\\\"ctrl.vastaanotaHakutoive(hakutoive)\\\"\\n                  ng-disabled=\\\"ctrl.isNotVastaanotettavissa()\\\"\\n                  aria-label=\\\"{{ localization('button.vastaanota_ariaLabel') }}\\\"\\n                  ng-bind=\\\"localization('button.vastaanota')\\\">\\n          </button>\\n          <span ng-if=\\\"!ctrl.vastaanottoSentSuccessfully && !ctrl.haku().toisenasteenhaku\\\" class=\\\"status-message note\\\">\\n              {{ localization('message.acceptEducation.cannotChangeAnswer') }}\\n          </span>\\n          <span ng-if=\\\"ctrl.vastaanottoSentSuccessfully\\\" class=\\\"status-message success\\\">\\n              {{ localization('message.acceptEducation.responseReceived') }}\\n          </span>\\n          <span ng-bind=\\\"ctrl.error\\\" class=\\\"status-message error\\\" ></span>\\n      </div>\\n  </div>\\n</form>\\n\"","module.exports = \"<!-- Käydään läpi kaikki hakutoiveet ja luodaan tarvittaessa ulkoiset ilmoittautumislinkit (kk), ilmoittautumiskäli (2.aste) ja\\nnäytetään mahdolliset ilmoittautumiset -->\\n<div class=\\\"ilmoittautuminen-item fade-transitions\\\" ng-repeat=\\\"tulos in hakukohteet()\\\">\\n\\n    <!-- ulkoinen ilmoittautumislinkki, vain kk -->\\n    <div class=\\\"kk-lasnaolo\\\" ng-if=\\\"!application.haku.toisenasteenhaku && tulos.ilmoittautumistila.ilmoittauduttavissa && linkkiOK(tulos)\\\">\\n        <header>\\n          <strong ng-if=\\\"tulos.ehdollisestiHyvaksyttavissa\\\">{{ localization('registration.conditionalAcceptanceTitle') }}</strong>\\n          <strong ng-if=\\\"!tulos.ehdollisestiHyvaksyttavissa\\\">{{ localization('registration.reminder') }}</strong>\\n          <span class=\\\"tarjoaja-hakukohde\\\">{{ tulos.tarjoajaNimi }} - {{ tulos.hakukohdeNimi }}\\n            <p ng-if=\\\"ohjeetUudelleOpiskelijalle(tulos.hakukohdeOid)\\\">\\n              <a class=\\\"ohjeet-uudelle-opiskelijalle\\\" ng-href=\\\"{{ohjeetUudelleOpiskelijalle(tulos.hakukohdeOid)}}\\\">{{ localization('registration.instructionsForNewStudents') }}</a>\\n            </p>\\n        </span>\\n        </header>\\n        <span ng-if=\\\"tulos.ehdollisestiHyvaksyttavissa\\\">{{ localization('registration.conditionalAcceptanceInfo') }}</span>\\n        <span ng-if=\\\"!tulos.ehdollisestiHyvaksyttavissa\\\">\\n          <p>{{ localization('registration.reminderInfo') }}</p>\\n          <a class=\\\"ilmoitauttaminen-linkki\\\" href=\\\"{{oili()}}\\\">{{ localization('registration.goToRegistration') }}</a>\\n        </span>\\n    </div>\\n\\n    <!-- ilmoittautumiskäli, 2. aste -->\\n    <div class=\\\"result-list\\\" ng-if=\\\"application.haku.toisenasteenhaku && tulos.vastaanottotila === 'VASTAANOTTANUT_SITOVASTI' && !ilmoittautumistietoNaytetaan(tulos)\\\">\\n        <div class=\\\"result-list-wrap\\\">\\n        <div class=\\\"result-list-cell flex-100\\\">\\n          <lasnaoloilmoittautuminen application=\\\"application\\\" tulos=\\\"tulos\\\"/>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <!-- tieto opintopolkuun rekisteröidystä läsnäoloilmoittautumisesta jos sellainen on-->\\n    <div class=\\\"lasnaolo-ilmoittautuminen-container\\\" ng-if=\\\"ilmoittautumistietoNaytetaan(tulos)\\\">\\n      <fieldset>\\n        <div class=\\\"lasnaolo-ilmoittautuminen\\\">\\n          <span class=\\\"label-highlight\\\"> {{ application.haku.toisenasteenhaku ?\\n            localization('lasnaoloilmoittautuminen.title') : localization('lasnaoloilmoittautuminen.title_kk') }}</span>\\n          <span> {{ application.henkiloNimi }} </span>\\n          <span class=\\\"tarjoaja-hakukohde\\\"> {{ tulos.tarjoajaNimi }} {{ tulos.hakukohdeNimi }}</span>\\n        </div>\\n        <div class=\\\"lasnaolo-confirmation\\\" ng-if=\\\"application.haku.toisenasteenhaku\\\">\\n          {{ localization('lasnaoloilmoittautuminen.confirmation', getEnrolmentMessageKeys(tulos)) }} {{ getStateTranslation(tulos) }}\\n        </div>\\n        <div class=\\\"lasnaolo-confirmation\\\" ng-if=\\\"!application.haku.toisenasteenhaku\\\">\\n          {{ localization('lasnaoloilmoittautuminen.confirmation_kk') }} {{ getStateTranslation(tulos) }}\\n        </div>\\n      </fieldset>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"fade-transitions\\\">\\n    <header>\\n        <strong>{{ localization('registration.opintoetuudet.opintotukihakemus') }}</strong>\\n    </header>\\n    <a href=\\\"{{kela()}}\\\">{{ localization('registration.opintoetuudet.studentFinancialAid') }}</a>\\n</div>\"","module.exports = \"<div class=\\\"preference-list\\\" ng-class=\\\"{validating: validating}\\\" sortable sortable-item=\\\".preference-list-item\\\" sortable-moved=\\\"movePreference\\\">\\n    <div class=\\\"overlay\\\" style=\\\"background: url(../img/hakemuseditori/ajax-loader.gif) rgba(255,255,255, 0.5) no-repeat center center;\\\">\\n    </div>\\n    <div class=\\\"preference-list-item\\\" aria-label=\\\"{{ ($index+1) + '. ' + hakutoive.data.Opetuspiste + ' - ' + hakutoive.data.Koulutus }}\\\" ng-repeat=\\\"hakutoive in application.hakutoiveet\\\" ng-controller=\\\"hakutoiveController\\\" ng-class=\\\"{'inactive': isEditingDisabled() && hakutoive.isNew}\\\">\\n        <div class=\\\"preference-list-item-layout\\\" ng-show=\\\"isNonPrioritizedAndEditable()\\\">\\n\\n            <div class=\\\"item-content\\\" ng-show=\\\"application.haku.usePriority\\\">\\n                <span class=\\\"row-number\\\">{{$index+1}}</span>\\n            </div>\\n\\n            <div class=\\\"item-content\\\">\\n                <div class=\\\"sort-arrow-container\\\" ng-show=\\\"application.haku.usePriority\\\">\\n                    <button class=\\\"sort-arrow-up\\\" aria-label=\\\"{{ localization('button.sortUp_ariaLabel') }}\\\" ng-disabled=\\\"!application.canMovePreference($index, $index-1)\\\" disable-click-focus></button>\\n                    <button class=\\\"sort-arrow-down\\\" aria-label=\\\"{{ localization('button.sortDown_ariaLabel') }}\\\" ng-disabled=\\\"!application.canMovePreference($index, $index+1)\\\" disable-click-focus></button>\\n                </div>\\n            </div>\\n            <div class=\\\"item-content\\\">\\n                <div class=\\\"row opetuspiste\\\">\\n                    <label ng-bind=\\\"hakutoive.data.Opetuspiste\\\" ng-show=\\\"isEditingDisabled()\\\"></label>\\n\\n                    <input type=\\\"text\\\" ng-change=\\\"opetuspisteModified()\\\"\\n                           placeholder=\\\"{{localization('label.chooseLocation')}}\\\"\\n                           ng-model=\\\"hakutoive.data.Opetuspiste\\\"\\n                           uib-typeahead=\\\"opetuspiste.name for opetuspiste in findOpetuspiste($viewValue)\\\"\\n                           typeahead-loading=\\\"loadingLocations\\\"\\n                           typeahead-on-select=\\\"opetuspisteValittu($item, $model, $label)\\\"\\n                           ng-show=\\\"!isEditingDisabled()\\\"/>\\n                </div>\\n\\n                <div class=\\\"row koulutus\\\">\\n                    <span ng-bind=\\\"hakutoive.data.Koulutus\\\" ng-show=\\\"isEditingDisabled()\\\"></span>\\n\\n                    <select ng-model=\\\"valittuKoulutus\\\"\\n                            ng-options=\\\"koulutus.name for koulutus in koulutusList\\\"\\n                            ng-change=\\\"koulutusValittu(valittuKoulutus)\\\" ng-show=\\\"isKoulutusSelectable()\\\">\\n                    </select>\\n                    <span class=\\\"instruction ajax-spinner-small\\\" ng-show=\\\"isLoadingKoulutusList()\\\">{{ localization(\\\"message.loadingData\\\") }}</span>\\n                    <div class=\\\"validation-message error\\\" ng-if=\\\"hakutoive.errors.length\\\">{{hakutoive.errors.join(', ')}}</div>\\n                    <div class=\\\"alert alert-info aoPaymentNotification\\\" ng-if=\\\"hakutoive.showPaymentNotification\\\">\\n                        {{ localization(\\\"payment.aoNotification\\\") }}\\n                    </div>\\n                    <div class=\\\"alert alert-info baseEducationNotification\\\" ng-if=\\\"showNotification('baseEducationConflict')\\\">\\n                        {{ localization(\\\"info.baseEducationConflict\\\") }}\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"row hakuaika\\\" ng-if=\\\"hakutoive.kohdekohtainenHakuaika != null && !application.preferenceLocked($index)\\\">\\n                    {{ localization('label.applicationPeriodEnds') }} <time formatted-time=\\\"hakutoive.kohdekohtainenHakuaika.end\\\" format=\\\"LLL\\\" />\\n                </div>\\n            </div>\\n\\n            <div class=\\\"item-content\\\">\\n                <div class=\\\"application-preference-locked\\\" ng-if=\\\"application.preferenceLocked($index)\\\">\\n                    {{localization('label.applicationPeriodPassed') }}\\n                </div>\\n\\n                <button ng-show=\\\"canRemovePreference($index)\\\" class=\\\"delete-btn\\\" disable-click-focus confirm confirm-text=\\\"{{localization('button.delete_confirm')}}\\\" confirm-action=\\\"removeHakutoive($index)\\\" aria-label=\\\"{{ localization('button.delete_ariaLabel') }}\\\"></button>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"result-list\\\">\\n    <div class=\\\"result-list-header\\\">\\n        <span>{{ localization('label.resultsCaption') }}</span>\\n        <span class=\\\"result-list-status\\\"> {{ status }}</span>\\n    </div>\\n    <div class=\\\"result-list-wrap\\\" ng-repeat=\\\"tulos in valintatulos().hakutoiveet\\\" ng-class=\\\"valintatulosStyle(tulos)\\\">\\n        <div class=\\\"result-list-cell flex-40\\\">\\n            <span class=\\\"row-number\\\">{{$index+1}}.</span>\\n            <span ng-bind=\\\"tulos.tarjoajaNimi\\\"></span>\\n            <span ng-bind=\\\"tulos.hakukohdeNimi\\\"></span>\\n            <span class=\\\"hyvaksytty-kesken\\\" ng-show=\\\"isHyvaksyttyKesken(tulos, valintatulos().hakutoiveet)\\\">\\n                <span>{{ localization('label.acceptedUnfinished.text') }}</span>\\n                <ol>\\n                    <li>{{ localization('label.acceptedUnfinished.rules.1') }}</li>\\n                    <li>{{ localization('label.acceptedUnfinished.rules.2') }}</li>\\n                </ol>\\n                <a href=\\\"{{ localization('label.acceptedUnfinished.href') }}\\\">{{ localization('label.acceptedUnfinished.link') }}</a>\\n            </span>\\n        </div>\\n        <div class=\\\"result-list-cell flex-60\\\">\\n            <div>\\n                <div>\\n                    <span ng-bind=\\\"valintatulosText(tulos, valintatulos().hakutoiveet)\\\" class=\\\"valintatulos-otsake\\\"></span>\\n                </div>\\n                <div class=\\\"update-vastaanottotieto\\\" ng-show=\\\"tulos.vastaanottotila == 'EHDOLLISESTI_VASTAANOTTANUT'\\\">\\n                    <span class=\\\"ajax-spinner\\\" ng-show=\\\"ajaxPending\\\"></span>\\n                    <div ng-hide=\\\"ajaxPending\\\">\\n                        <div>\\n                            <label>\\n                                <input type=\\\"checkbox\\\" ng-model=\\\"enableConfirmation\\\" ignore-dirty/>\\n                                {{ localization('label.acceptConditionallyAccepted') }}\\n                            </label>\\n                        </div>\\n                        <div class=\\\"confirm-update-vastaanottotieto\\\">\\n                            <button id=\\\"confirmChangeButton\\\"\\n                                    ng-disabled=\\\"!enableConfirmation\\\"\\n                                    ng-click=\\\"vastaanotaSitovasti(application, tulos)\\\"\\n                                    ng-init=\\\"enableConfirmation=false\\\">{{ localization('button.confirmChange') }}</button>\\n                            <i>{{ localization('label.cannotUndoChanges') }}</i>\\n                        </div>\\n                        <span class=\\\"status-message error\\\" ng-show=\\\"error\\\">{{ getError() }}</span>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"","module.exports = \"<div class=\\\"yhteystiedot\\\">\\n    <label>\\n        <div class=\\\"label-column\\\">{{ localization(\\\"label.email\\\")}}</div>\\n        <div class=\\\"value-column\\\">\\n            <input type=\\\"text\\\" ng-model=\\\"yhteystiedot['Sähköposti'].answer\\\" ng-change=\\\"yhteystiedot['SähköpostiUudelleen'].answer=yhteystiedot['Sähköposti'].answer\\\" clearable-input />\\n            <span class=\\\"validation-message error\\\">{{ yhteystiedot['Sähköposti'].errors.join(', ') }}</span>\\n        </div>\\n    </label>\\n\\n    <label>\\n        <div class=\\\"label-column\\\">{{ localization(\\\"label.mobilePhone\\\")}}</div>\\n        <div class=\\\"value-column mobilePhone\\\"> <input type=\\\"text\\\" ng-model=\\\"yhteystiedot['matkapuhelinnumero1'].answer\\\" clearable-input />\\n            <span class=\\\"validation-message error\\\">{{ yhteystiedot['matkapuhelinnumero1'].errors.join(', ') }}</span>\\n        </div>\\n    </label>\\n\\n    <div role=\\\"presentation\\\" ng-if=\\\"yhteystiedot['asuinmaa'].answer == 'FIN'\\\">\\n      <label>\\n          <div class=\\\"label-column\\\">{{ localization(\\\"label.streetAddress\\\")}}</div>\\n          <div class=\\\"value-column\\\"> <input type=\\\"text\\\" ng-model=\\\"yhteystiedot['lahiosoite'].answer\\\" clearable-input />\\n              <span class=\\\"validation-message error\\\">{{ yhteystiedot['lahiosoite'].errors.join(', ') }}</span>\\n          </div>\\n      </label>\\n      <label>\\n          <div class=\\\"label-column\\\">{{ localization(\\\"label.postalCode\\\")}}</div>\\n          <div class=\\\"value-column postalCode\\\">\\n              <input type=\\\"text\\\" ng-model=\\\"yhteystiedot['Postinumero'].answer\\\" clearable-input />\\n              <span ng-bind=\\\"application.calculatedValues.postOffice\\\"/>\\n\\n              <span class=\\\"validation-message error\\\">{{ yhteystiedot['Postinumero'].errors.join(', ') }}</span>\\n          </div>\\n      </label>\\n    </div>\\n</div>\\n\"","module.exports = \"<ul class=\\\"application-periods\\\" ng-if=\\\"haku().active\\\">\\n    <li ng-if=\\\"periods().length == 1\\\">\\n        {{ localization(\\\"label.applicationPeriodEnds\\\") }}\\n        <time formatted-time=\\\"periods()[0].end\\\" format=\\\"LLL\\\"/>\\n    </li>\\n\\n    <li ng-repeat=\\\"applicationPeriod in periods()\\\" ng-class=\\\"{inactive: !applicationPeriod.active}\\\" ng-if=\\\"periods().length != 1\\\">\\n        {{ $index + 1 }}. {{ localization(\\\"label.applicationPeriod\\\").toLowerCase() }}\\n        <time formatted-time=\\\"applicationPeriod.start\\\" format=\\\"LLL\\\"/> -\\n        <time formatted-time=\\\"applicationPeriod.end\\\" format=\\\"LLL\\\"/>\\n        <span class=\\\"application-period-status\\\">{{ statusString(applicationPeriod) }}</span>\\n    </li>\\n</ul>\\n\"","module.exports = \"<!-- Toisen asteen ilmoittautumislomake -->\\n<form class=\\\"lasnaoloilmoittautuminenForm\\\" name=\\\"lasnaoloilmoittautuminenForm\\\">\\n    <fieldset>\\n        <div class=\\\"lasnaolo-ilmoittautuminen\\\">\\n            <span class=\\\"label-highlight\\\">{{ localization('lasnaoloilmoittautuminen.title') }} </span>\\n            <span> {{ application.henkiloNimi }} </span>\\n            <span class=\\\"tarjoaja-hakukohde\\\"> - {{ tulos.tarjoajaNimi }} {{ tulos.hakukohdeNimi }} </span>\\n        </div>\\n        <div ng-hide=\\\"ilmoittautunut || !application.haku.toisenasteenhaku\\\">\\n            <div class=\\\"instruction\\\">{{ localization('lasnaoloilmoittautuminen.info') }}</div>\\n\\n            <!-- Syksyllä alkavat koulutukset -->\\n            <div class=\\\"check-options\\\" ng-show=\\\"schoolStartsInAutumn()\\\">\\n                <label>\\n                    <input class=\\\"oph-checkable-input\\\" type=\\\"radio\\\" name=\\\"radios\\\" value=\\\"semester\\\" ng-model=\\\"ilmoittautuminen\\\">\\n                    <span class=\\\"oph-checkable-text\\\">{{ localization('lasnaoloilmoittautuminen.semester') }}</span>\\n                </label>\\n            </div>\\n\\n            <!-- Keväällä alkavat koulutukset -->\\n            <div class=\\\"check-options\\\" ng-show=\\\"schoolStartsInSpring()\\\">\\n                <label>\\n                    <input class=\\\"oph-checkable-input\\\" type=\\\"radio\\\" name=\\\"radios\\\" value=\\\"spring\\\" ng-model=\\\"ilmoittautuminen\\\">\\n                    <span class=\\\"oph-checkable-text\\\">{{ localization('lasnaoloilmoittautuminen.spring') }}</span>\\n                </label>\\n            </div>\\n\\n            <div class=\\\"save-btn-wrapper\\\">\\n                <button class=\\\"save-btn\\\" ng-click=\\\"postLasnaoloilmoittautuminen()\\\">{{ localization('lasnaoloilmoittautuminen.send') }}</button>\\n            </div>\\n            <div class=\\\"lasnaolo-error\\\" ng-if=\\\"error\\\">\\n                {{ getErrorTranslation() }}\\n            </div>\\n        </div>\\n        <div class=\\\"lasnaolo-confirmation\\\" ng-if=\\\"ilmoittautunut\\\">\\n          {{ localization('lasnaoloilmoittautuminen.confirmation', getEnrolmentMessageKeys()) }} {{ getStateTranslation() }}\\n        </div>\\n    </fieldset>\\n</form>\\n\"","\"use strict\";\n\n/**\n * window.urls.debugLog().loadFromUrls(\"suoritusrekisteri-web-frontend-url_properties.json\", \"rest/v1/properties\").success(function(){appInit();})\n *\n * window.url(\"service.info\", param1, param2, {key3: value})\n *\n * window.urls(baseUrl).url(key, param)\n * window.urls(baseUrl).noEncode().url(key, param)\n * window.urls({baseUrl: baseUrl}).omitEmptyValuesFromQuerystring().url(key, param)\n * window.urls().omitEmptyValuesFromQuerystring().url(key, param)\n *\n * Config lookup order: urls_config, window.urls.override, window.urls.properties, window.urls.defaults\n * Lookup key order:\n * * for main url window.url's first parameter: \"service.info\" from all configs\n * * baseUrl: \"service.baseUrl\" from all configs and \"baseUrl\" from all configs\n *\n * window.url_properties = {\n *   \"service.status\": \"/rest/status\",\n *   \"service.payment\": \"/rest/payment/$1\",\n *   \"service.order\": \"/rest/payment/$orderId\"\n *   }\n *\n * window.urls.debug = true\n *\n */\n\n(function(exportDest) {\n    var version=\"1.0\"\n\n    if(exportDest.urls) {\n        if(exportDest.urls.version !== version)   {\n            console.log(\"'Mismatching oph_urls.js. First loaded (and in use):\", exportDest.urls.version, \" second loaded (not in use): \", version)\n        }\n        return\n    }\n\n    exportDest.urls = function() {\n        var urls_config = {}\n        var omitEmptyValuesFromQuerystring = false\n        var encode = true\n\n        for (var i = 0; i < arguments.length;  i++) {\n            var arg = arguments[i]\n            if(typeof arg === \"string\" || arg == null) {\n                urls_config.baseUrl = arg\n            } else {\n                Object.keys(arg).forEach(function(key){\n                    urls_config[key] = arg[key]\n                })\n            }\n        }\n\n        var resolveConfig = function(key, defaultValue) {\n            var configs = [urls_config, exportDest.urls.override, exportDest.urls.properties, exportDest.urls.defaults]\n            for (var i = 0; i < configs.length; i++) {\n                var c = configs[i]\n                if(c.hasOwnProperty(key)) {\n                    return c[key]\n                }\n            }\n            if(typeof defaultValue == 'function') {\n                return defaultValue()\n            }\n            if(typeof defaultValue == 'undefined') {\n                throw new Error(\"Could not resolve value for '\"+key+\"'\")\n            }\n            return defaultValue\n        }\n\n        var enc = function(arg) {\n            arg = [undefined, null].indexOf(arg) > -1 ? \"\" : arg\n            if(encode) {\n                arg = encodeURIComponent(arg)\n            }\n            return arg\n        }\n\n        var includeToQuerystring = function(v) {\n            if(omitEmptyValuesFromQuerystring) {\n                return [undefined, null, \"\"].indexOf(v) === -1\n            } else {\n                return [undefined].indexOf(v) === -1\n            }\n        }\n\n        var ret = {\n            omitEmptyValuesFromQuerystring: function () {\n                omitEmptyValuesFromQuerystring = true\n                return ret\n            },\n            noEncode: function() {\n                encode = false\n                return ret\n            },\n            url: function () {\n                var key = Array.prototype.shift.apply(arguments)\n                var args = Array.prototype.slice.call(arguments)\n                var queryString = \"\";\n                var tmpUrl;\n                if (!key) {\n                    throw new Error(\"first parameter 'key' not defined!\");\n                }\n                var url = resolveConfig(key)\n                // reverse iteration because $10 needs to be handled first\n                for (var i = args.length; i > 0; i--) {\n                    var arg = args[i - 1];\n                    if (typeof arg === \"object\") {\n                        Object.keys(arg).forEach(function (k) {\n                            var originalValue = arg[k];\n                            if(!isArray(originalValue)) {\n                                tmpUrl = url.replace(\"$\" + k, enc(originalValue))\n                            }\n                            if (tmpUrl == url && includeToQuerystring(originalValue)) {\n                                var values = isArray(originalValue) ? originalValue : [originalValue];\n                                for(var j = 0; j < values.length; j++) {\n                                    var separator = (queryString.length > 0) ? \"&\" : \"?\";\n                                    var encodedKeyValue = enc(k) + \"=\" + enc(values[j]);\n                                    queryString = queryString + separator + encodedKeyValue\n                                }\n                            }\n                            url = tmpUrl\n                        })\n                    } else {\n                        url = url.replace(\"$\" + i, enc(arg))\n                    }\n                }\n                var baseUrl = resolveConfig(parseService(key) + \".baseUrl\", function () {\n                    return resolveConfig(\"baseUrl\", null)\n                })\n                if (baseUrl) {\n                    url = joinUrl(baseUrl, url)\n                }\n                url = url + queryString\n                debug(\"url:\", key, \"->\", url)\n                return url\n            }\n        }\n        return ret\n    }\n\n    exportDest.urls.version = version\n    exportDest.urls.properties = {}\n    exportDest.urls.defaults = {}\n    exportDest.urls.override = {}\n    exportDest.urls.debug = false\n    exportDest.urls.debugLog = function() {\n        exportDest.urls.debug = true;\n        return this;\n    }\n    exportDest.urls.addProperties = function (props) {\n        mergePropertiesWithWarning(props, exportDest.urls.properties)\n    }\n    exportDest.urls.addDefaults = function (props) {\n        mergePropertiesWithWarning(props, exportDest.urls.defaults)\n    }\n    exportDest.urls.addOverride = function (props) {\n        mergePropertiesWithWarning(props, exportDest.urls.override)\n    }\n    function mergePropertiesWithWarning(props, destProps) {\n        var existsAlready = Object.keys(props).filter(function (k) {\n            return k in destProps\n        })\n        if(existsAlready.length == 0) {\n            merge(destProps, props)\n        } else {\n            console.log(\"Url properties already contains following keys:\", existsAlready, \"existing properties:\", destProps, \"new properties:\", props)\n            alert(\"Url properties conflict. Check console log\")\n        }\n    }\n\n    function debug() {\n        var args = Array.prototype.slice.call(arguments)\n        args.unshift(\"OphProperties\")\n        if(exportDest.urls.debug && exportDest.console && exportDest.console.log) {\n            exportDest.console.log.apply(exportDest.console, args)\n        }\n    }\n\n    function ajaxJson(method, url, onload, onerror) {\n        var oReq = new XMLHttpRequest();\n        oReq.open(method, url, true);\n        oReq.onreadystatechange = function() {\n            if (oReq.readyState == 4) {\n                if(oReq.status == 200) {\n                    if(onload) {\n                        onload(JSON.parse(oReq.responseText))\n                    }\n                } else {\n                    if(onerror) {\n                        onerror(url + \" status \" +oReq.status + \": \" + oReq.responseText)\n                    }\n                }\n            }\n        }\n        oReq.send(null);\n    }\n\n    // minimalist angular Promise implementation, returns object with .success(cb)\n    var successCBs = []\n    var fulfilled = false, fulfillFailed = false\n    var fulfillCount = 0, fulfillCountDest = 0\n    function checkfulfill() {\n        fulfillCount += 1\n        if(fulfillCount == fulfillCountDest) {\n            fulfilled = true\n            if(!fulfillFailed) {\n                successCBs.forEach(function(cb){cb()})\n            }\n        }\n    }\n    exportDest.urls.success = function(cb) {\n        if(fulfilled) {\n            if(!fulfillFailed) {\n                cb()\n            }\n        } else {\n            successCBs.push(cb)\n        }\n    }\n\n    exportDest.urls.loadFromUrls = function() {\n        var args = Array.prototype.slice.call(arguments)\n        var jsonProperties = []\n        successCBs.push(function(){\n            jsonProperties.forEach(function(json){merge(exportDest.urls.properties, json)})\n        })\n        fulfillCountDest += args.length\n        args.forEach(function(url, index){\n            ajaxJson(\"GET\", url, function(data) {\n                jsonProperties.splice(index, 0, data)\n                checkfulfill()\n            }, function() {\n                fulfillFailed = true\n                checkfulfill()\n            })\n        })\n        return {\n            success: exportDest.urls.success\n        };\n    }\n\n    function merge(dest, from) {\n        Object.keys(from).forEach(function(key){\n            dest[key]=from[key];\n        })\n    }\n\n    exportDest.url = exportDest.urls().url\n\n    function parseService (key) {\n        return key.substring(0, key.indexOf(\".\"))\n    }\n\n    function joinUrl() {\n        var args = Array.prototype.slice.call(arguments)\n        if(args.length === 0) {\n            throw new Error(\"no arguments\");\n        }\n        var url = null\n        args.forEach(function(arg) {\n            if(!url) {\n                url = arg\n            } else {\n                var endsWith = url.endsWith(\"/\");\n                var startsWith = arg.startsWith(\"/\");\n                if(endsWith && startsWith) {\n                    url = url + arg.substring(1)\n                } else if(endsWith || startsWith) {\n                    url = url + arg\n                } else {\n                    url = url + \"/\" + arg\n                }\n            }\n        })\n        return url\n    }\n\n    function isArray(arr) {\n        if(Array.isArray) {\n            return Array.isArray(arr);\n        } else {\n            return arr && arr.constructor === Array;\n        }\n    }\n})(typeof window === 'undefined' ? module.exports : window);\n\n// polyfills for IE\n\nif (!String.prototype.startsWith) {\n    String.prototype.startsWith = function(searchString, position){\n        position = position || 0;\n        return this.substr(position, searchString.length) === searchString;\n    };\n}\n\nif (!String.prototype.endsWith) {\n    String.prototype.endsWith = function(searchString, position) {\n        var subjectString = this.toString();\n        if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    };\n}\n","window.urls.addProperties({\n  \"omatsivut.applications\": \"/omatsivut/secure/applications\",\n  \"omatsivut.applications.update\": \"/omatsivut/secure/applications/:id\",\n  \"omatsivut.applications.validate\": \"/omatsivut/secure/applications/validate/$1\",\n  \"omatsivut.applications.vastaanota\": \"/omatsivut/secure/applications/vastaanota\",\n  \"omatsivut.applications.vastaanota.post\": \"/omatsivut/secure/applications/vastaanota/:hakemusOid/hakukohde/:hakukohdeOid\",\n  \"omatsivut.postitoimipaikka\": \"/omatsivut/koodisto/postitoimipaikka/:postalCode\",\n  \"omatsivut.koulutukset\": \"/omatsivut/koulutusinformaatio/koulutukset/:asId/:opetuspisteId\",\n  \"omatsivut.opetuspisteet\": \"/omatsivut/koulutusinformaatio/opetuspisteet/:query\",\n  \"omatsivut.translations\": \"/omatsivut/translations\",\n  \"omatsivut.login\": \"/omatsivut/login\",\n  \"omatsivut.applications.tuloskirje\": \"/omatsivut/secure/applications/tuloskirje/$1\",\n  \"omatsivut.lasnaoloilmoittautuminen\": \"/omatsivut/secure/ilmoittaudu\"\n});\n","export const VASTAANOTTOTILA = {\n  VASTAANOTTANUT_SITOVASTI: \"VASTAANOTTANUT_SITOVASTI\",\n  EI_VASTAANOTETTU_MAARA_AIKANA: \"EI_VASTAANOTETTU_MAARA_AIKANA\",\n  EHDOLLISESTI_VASTAANOTTANUT: \"EHDOLLISESTI_VASTAANOTTANUT\"\n};\n\nexport const VASTAANOTTO_ACTION = {\n  VASTAANOTA_SITOVASTI: \"VastaanotaSitovasti\",\n  VASTAANOTA_EHDOLLISESTI: \"VastaanotaEhdollisesti\",\n  PERU: \"Peru\"\n};\n\nexport const urls = {\n  \"omatsivut.translations\": \"/omatsivut/translations\",\n};\n","import Cookies from 'js-cookie';\nimport { urls } from './constants';\n\nexport async function init() {\n  const language = getLanguage();\n  document.documentElement.lang = language;\n  window.translations = await loadTranslations(language);\n}\n\nexport function getLanguage() {\n  let lang = Cookies.get('lang');\n  if (lang) {\n    return lang;\n  }\n\n  return getLanguageFromHost();\n}\n\nexport function getTranslations() {\n  return window.translations;\n}\n\nfunction loadTranslations(language) {\n  const url = urls[\"omatsivut.translations\"] + '?lang=' + language;\n  return fetch(url)\n    .then(response => response.json())\n    .then(translations => translations)\n    .catch(err => console.error(err));\n}\n\nfunction getLanguageFromHost(host) {\n  if (!host) { host = document.location.host; }\n\n  let parts = host.split('.');\n  if (parts.length < 2) {\n    return 'fi';\n  }\n\n  let domain = parts[parts.length - 2];\n  if (domain.indexOf('opintopolku') > -1) {\n    return 'fi';\n  } else if (domain.indexOf('studieinfo') > -1) {\n    return 'sv';\n  } else if (domain.indexOf('studyinfo') > -1) {\n    return 'en'\n  }\n  return 'fi'\n}\n","const BEARER_TOKEN_KEY = 'bearerToken';\nconst _ = require('underscore');\n\nexport function mapArray(array, keyField, valueField) {\n  return _.reduce(array, function (memo, item) {\n    var key = item[keyField]\n    if (memo[key] == null)\n      memo[key] = []\n    memo[key].push(item[valueField])\n    return memo\n  }, {});\n}\n\nexport function indexBy(array, keyFunction) {\n  return _.reduce(array, function (memo, item, index) {\n    memo[keyFunction(item, index)] = item\n    return memo\n  }, {})\n}\n\nexport function flattenTree(rootNode, childrenAttribute) {\n  return (function flatten(node, list) {\n    if (node != null) {\n      if (node[childrenAttribute] == null)\n        list.push(node)\n      else\n        _(node[childrenAttribute]).each(function (subnode) {\n          flatten(subnode, list)\n        })\n    }\n    return list\n  })(rootNode, [])\n}\n\nexport function underscoreToCamelCase(str) {\n  return str.toLowerCase().replace(/^(.)|_(.)/g, function (match, char1, char2) {\n    return (char1 ? char1 : \"\" + char2 ? char2 : \"\").toUpperCase()\n  })\n}\n\nexport function withoutAngularFields(obj) {\n  if (_.isArray(obj)) {\n    return _(obj).map(withoutAngularFields)\n  } else if (_.isObject(obj)) {\n    return _(obj).reduce(function (memo, val, key) {\n      if (key.indexOf(\"$$\") < 0)\n        memo[key] = withoutAngularFields(val)\n      return memo\n    }, {})\n  } else\n    return obj\n}\n\nexport function getBearerToken() {\n  return window.sessionStorage.getItem(BEARER_TOKEN_KEY)\n}\nexport function setBearerToken(token) {\n  window.sessionStorage.setItem(BEARER_TOKEN_KEY, token)\n}\nexport function removeBearerToken() {\n  window.sessionStorage.removeItem(BEARER_TOKEN_KEY)\n}\n\nexport function isTestMode() {\n  return window.parent.location.href.indexOf(\"runner.html\") > 0;\n}\n\n\n","import { flattenTree, indexBy } from '../util';\nconst _ = require('underscore');\n\nconst questionDefaults = {\n  help: \"\",\n  verboseHelp: \"\",\n  required: false,\n  questionType: \"\",\n  id: null,\n  title: \"\"\n}\n\nfunction params(obj) {\n  var questionParameters = _.extend({}, questionDefaults, obj)\n  _(questionParameters).each(function(val, key) {\n    if (val == null)\n      if(key == \"title\") {\n        questionParameters.title = \"?\"\n      }\n      else {\n        throw new Error(\"question parameter \" + key + \" null\")\n      }\n  })\n  return questionParameters\n}\n\nexport default class Question {\n  constructor(question, answer, validationErrors) {\n    _.extend(this, params(question))\n    this.answer = answer\n    this.errors = validationErrors || []\n  }\n\n  setErrors(errors) {\n    this.errors = errors || []\n  }\n\n  appendErrors(errors) {\n    this.errors = this.errors.concat(errors)\n  }\n\n  static fromJson(json, application) {\n    return new Question(json, initialValue(json, application), json.required ? [\"*\"] : [])\n  }\n\n  static getQuestions(jsonQuestions, application) {\n    return convertToItems(jsonQuestions, new QuestionGroup())\n\n    function convertToItems(questions, results) {\n      _(questions).each(function (questionNode) {\n        if (questionNode.questions != null) {\n          results.questionNodes.push(convertToItems(questionNode.questions, new QuestionGroup(questionNode.title)))\n        } else {\n          results.questionNodes.push(Question.fromJson(questionNode, application))\n        }\n      })\n      return results\n    }\n  }\n\n  static questionMap(questions) {\n    questions = flattenTree(questions, \"questionNodes\")\n    return indexBy(questions, function(node) { return node.id.questionId })\n  }\n\n}\n\nfunction initialValue(question, application) {\n  function defaultValue() {\n    var defaultOption = _(question.options).find(function(option) { return option.default })\n    return defaultOption == null ? \"\" : defaultOption.value\n  }\n  function getOldValue(questionId) {\n    var questionIdParts = /^(preference)(\\d+)([-_].+)/.exec(questionId)\n    if (questionIdParts != null && application.hakutoiveet[questionIdParts[2] - 1] != null && application.hakutoiveet[questionIdParts[2] - 1].isNew) {\n      return null\n    }\n    var phaseAnswers = application.persistedAnswers[question.id.phaseId]\n    if(phaseAnswers == null) {\n      return null\n    }\n    return phaseAnswers[questionId]\n  }\n\n  var oldAnswer = getOldValue(question.id.questionId)\n  if (question.options != null) {\n    if (question.questionType == \"Checkbox\") {\n      return _(question.options).chain().map(function(option) {\n        oldAnswer = getOldValue(option.value)\n        return [option.value, oldAnswer == null ? false : Boolean(oldAnswer)]\n      }).object().value()\n    } else {\n      // Aseta default-arvo vain monivalinnoille\n      return oldAnswer == null ? defaultValue() : oldAnswer\n    }\n  }\n  if(oldAnswer != null) {\n    return  oldAnswer\n  }\n}\n\nclass QuestionGroup {\n  constructor(title) {\n    this.title = title\n    this.questionNodes = []\n  }\n}\n","import Question from '../models/question';\n\nexport default [\"restResources\", function(restResources) {\n  return function applicationValidator() {\n    var currentRequest\n\n    function onlyIfCurrentRequest(current, f) {\n      return function() {\n        if (currentRequest === current)\n          f.apply(this, arguments)\n      }\n    }\n\n    return function(application, beforeBackendValidation, success, error) {\n      currentRequest = {}\n      success = onlyIfCurrentRequest(currentRequest, success)\n      error = onlyIfCurrentRequest(currentRequest, error)\n\n      var preferencesValid = application.validatePreferences()\n      if (preferencesValid) {\n        beforeBackendValidation()\n        validateBackend(application, success, error)\n      } else {\n        error({\n          errors: []\n        })\n      }\n    }\n  }\n\n  function validateBackend(application, success, error) {\n    restResources.validate(application)\n      .then(response => {\n        const data = response.data;\n        if (data.errors.length === 0) {\n          success({\n            questions: Question.getQuestions(data.questions, application),\n            response: data\n          })\n        } else {\n          error({\n            statusCode: 200,\n            errors: data.errors,\n            questions: Question.getQuestions(data.questions, application),\n            response: data\n          })\n        }\n      }, response => {\n        error({\n          errors: [],\n          statusCode: response.status,\n          isSaveable: true,\n          response: response.data\n        })\n      })\n  }\n}]\n","import { getTranslations }  from './staticResources';\nconst _ = require('underscore');\n\nfunction getValue(obj, path) {\n  const parts = path.split(\".\");\n  return parts.reduce((memo, val) => {\n    return memo == null ? null : memo[val];\n  }, obj)\n}\n\nfunction replaceVars(value, vars) {\n  const NON_BREAKING_SPACE = \"\\u00A0\";\n  return _.reduce(vars, (memo, val, key) => {\n    return memo.replace(\"__\" + key + \"__\", val)\n  }, value).replace(/_/g, NON_BREAKING_SPACE)\n}\n\nexport default function localize(key, vars) {\n  const val = getValue(getTranslations(), key);\n  if (!val) {\n    throw new Error(\"no translation for \" + key);\n  } else {\n    return replaceVars(val, vars || {});\n  }\n}\n","export default [\"$resource\", \"$http\", function($resource, $http) {\n  return {\n    applications: $resource(window.url(\"omatsivut.applications\"), null, {\n      get: {\n        method: \"GET\",\n        isArray: false\n      },\n      \"update\": {\n        method: \"PUT\",\n        url: window.url(\"omatsivut.applications.update\")\n      }\n    }),\n\n    validate: function(application) {\n      return $http.post(window.url( \"omatsivut.applications.validate\", application.oid), application.toJson())\n    },\n\n    vastaanota: $resource(window.url(\"omatsivut.applications.vastaanota\"), null, {\n      \"post\": {\n        method: \"POST\",\n        url: window.url(\"omatsivut.applications.vastaanota.post\")\n      }\n    }),\n\n    postOffice: $resource(window.url(\"omatsivut.postitoimipaikka\")),\n    koulutukset: $resource(window.url(\"omatsivut.koulutukset\")),\n    opetuspisteet: $resource(window.url(\"omatsivut.opetuspisteet\")),\n    lasnaoloilmoittautuminen: $resource(window.url(\"omatsivut.lasnaoloilmoittautuminen\"))\n  }\n}];\n","import { isTestMode } from './util';\n\nexport default [\"$animate\", function($animate) {\n  if (isTestMode()) $animate.enabled(false);\n  return {\n    uiTransitionTime: isTestMode() ? 0 : 500,\n    modelDebounce: isTestMode() ? 0 : 300,\n    uiIndicatorDebounce: isTestMode() ? 0: 500\n  };\n}]\n","import { getBearerToken, setBearerToken } from '../util';\n\nfunction shouldRerouteRequest(config) {\n  var decodedUrl = decodeURIComponent(window.location.href);\n  var pageReachedBySecureLink = (decodedUrl.includes('hakutoiveidenMuokkaus.html') || decodedUrl.includes('token'));\n  return pageReachedBySecureLink && config.url.includes('/secure/')\n}\n\nfunction shouldAuthenticate(config) {\n  return config.url.includes('insecure/')\n}\n\nexport default function HakemusInterceptor() {\n  return {\n    request: function(config) {\n      if (shouldRerouteRequest(config)) {\n        config.url = config.url.replace(/\\/secure\\//, '/insecure/')\n      }\n      if (shouldAuthenticate(config) && getBearerToken()) {\n        config.headers.Authorization = 'Bearer ' + getBearerToken()\n      }\n      return config\n    },\n\n    response: function(response) {\n      if (shouldAuthenticate(response.config) && response.data && response.data.jsonWebToken) {\n        setBearerToken(response.data.jsonWebToken);\n        response.oiliJwt = response.data.oiliJwt;\n        response.data = response.data.response\n      }\n      return response\n    }\n  };\n}\n","import HakemusInterceptor from '../interceptors/nonSensitiveHakemus';\n\nexport default ['$httpProvider', '$locationProvider', function($httpProvider, $locationProvider) {\n  $locationProvider.html5Mode(true);\n  $httpProvider.interceptors.push(HakemusInterceptor);\n}]\n","import { mapArray, indexBy } from '../util';\n\nconst _ = require('underscore');\nconst hakutoiveErrorRegexp = /^(preference\\d)$|^(preference\\d)-Koulutus$/;\n\nexport default class Hakutoive {\n  constructor(json) {\n    this.importJson(json)\n    this.isModified = false\n    this.isNew = _.isEmpty(json)\n    this.addedDuringCurrentSession = _.isEmpty(json)\n    this.errors = []\n  }\n\n  toJson() {\n    return this.data\n  }\n\n  importJson(json) {\n    this.data = json.hakemusData || {};\n    this.hakuaikaId = json.hakuaikaId;\n    this.kohdekohtainenHakuaika = json.kohdekohtainenHakuaika;\n    this.koulutuksenAlkaminen = json.koulutuksenAlkaminen;\n    this.ohjeetUudelleOpiskelijalle = json.ohjeetUudelleOpiskelijalle;\n  }\n\n  clear() {\n    this.data = {}\n    this.isNew = true\n    this.isModified = false\n  }\n\n  hasData() {\n    return !_.isEmpty(this.data)\n  }\n\n  setOpetuspiste(id, name) {\n    this.data[\"Opetuspiste\"] = name\n    this.data[\"Opetuspiste-id\"] = id\n    this.isModified = true\n    this.setErrors([])\n  }\n\n  setKoulutus(koulutus) {\n    this.data[\"Koulutus\"] = toString(koulutus.name)\n    this.data[\"Koulutus-id\"] = toString(koulutus.id)\n    this.data[\"Koulutus-educationDegree\"] = toString(koulutus.educationDegree)\n    this.data[\"Koulutus-id-lang\"] = toString(koulutus.teachingLanguages[0])\n    this.data[\"Koulutus-id-sora\"] = toString(koulutus.sora)\n    this.data[\"Koulutus-id-aoIdentifier\"] = toString(koulutus.aoIdentifier)\n    this.data[\"Koulutus-id-kaksoistutkinto\"] = toString(koulutus.kaksoistutkinto)\n    this.data[\"Koulutus-id-vocational\"] = toString(koulutus.vocational)\n    this.data[\"Koulutus-id-educationcode\"] = toString(koulutus.educationCodeUri)\n    this.data[\"Koulutus-id-athlete\"] = toString(koulutus.athleteEducation)\n    this.data[\"Koulutus-id-discretionary\"] = toString(koulutus.kysytaanHarkinnanvaraiset)\n    this.data[\"Koulutus-id-attachments\"] = toString(koulutus.attachments != null && koulutus.attachments.length > 0)\n    this.data[\"Koulutus-requiredBaseEducations\"] = (koulutus.requiredBaseEducations || []).join(\",\")\n    this.addGroupInfo(koulutus)\n    this.isModified = true\n    this.setErrors([])\n    function toString(x) {\n      return (x==null) ? \"\" : x.toString()\n    }\n  }\n\n  addGroupInfo(koulutus) {\n    var attachmentGroups = [];\n    var aoGroups = [];\n    if (koulutus.organizationGroups instanceof Array) {\n      for (var i = 0; i < koulutus.organizationGroups.length; i++) {\n        var group = koulutus.organizationGroups[i];\n        if(group.groupTypes.indexOf(\"hakukohde\") >= 0) {\n          aoGroups.push(group.oid);\n          if(group.usageGroups.indexOf(\"hakukohde_liiteosoite\") >= 0) {\n            attachmentGroups.push(group.oid);\n          }\n        }\n      }\n    }\n    if(aoGroups.length > 0) {\n      this.data[\"Koulutus-id-ao-groups\"] = aoGroups.join(\",\")\n    }\n    if(attachmentGroups.length > 0) {\n      this.data[\"Koulutus-id-attachmentgroups\"] = attachmentGroups.join(\",\")\n    }\n  }\n\n  hasOpetuspiste() {\n    return !_.isEmpty(this.data[\"Opetuspiste-id\"])\n  }\n\n  removeOpetuspisteData() {\n    var self = this\n    _.each(this.data, function(value, key) {\n      if (key.indexOf(\"$\")!==0 && key != \"Opetuspiste\")\n        delete self.data[key]\n    })\n    delete this.kohdekohtainenHakuaika\n  }\n\n  isValid() {\n    return (_.isEmpty(this.data[\"Opetuspiste\"]) || !_.isEmpty(this.data[\"Koulutus-id\"]))\n  }\n\n  setErrors(errors) {\n    this.errors = errors || []\n  }\n\n  appendErrors(errors) {\n    this.errors = this.errors.concat(errors)\n  }\n\n  setAsSaved() {\n    this.isNew = false\n    this.isModified = false\n  }\n\n  setAsModified() {\n    this.isModified = true\n  }\n\n  static isHakutoiveError(questionId) {\n    return hakutoiveErrorRegexp.test(questionId)\n  }\n\n  static parseHakutoiveIndex(questionId) {\n    var result = /^preference(\\d+)/.exec(questionId)\n    if (result)\n      return Number(result[1])\n    else\n      return null\n  }\n\n  static hasHakutoiveErrors(errorsJson) {\n    var errorMap = mapArray(errorsJson, \"key\", \"message\");\n    var self = this\n    return _(errorMap).any(function(val, key) {\n      return self.isHakutoiveError(key) && val.length > 0\n    })\n  }\n\n  static hakutoiveMap(hakutoiveet) {\n    return indexBy(hakutoiveet, function(hakutoive, index) { return \"preference\" + (index+1) })\n  }\n\n  static questionIdToHakutoiveId(questionId) {\n    return _.chain(hakutoiveErrorRegexp.exec(questionId)).rest().without(undefined).first().value()\n  }\n\n}\n","import { mapArray, withoutAngularFields } from '../util';\nimport Hakutoive from './hakutoive';\nimport Question from './question';\n\nconst _ = require('underscore');\n\nexport default class Hakemus {\n  constructor(json) {\n    this.oid = json.hakemus.oid;\n    this.updated = json.hakemus.updated;\n    this.haku = copy(json.hakemus.haku);\n    this.state = copy(json.hakemus.state);\n    this.hasForm = json.hakemus.hasForm;\n    this.educationBackground = copy(json.hakemus.educationBackground);\n    this.notifications = json.hakemus.notifications;\n    this.hakutoiveet = convertHakutoiveet(json.hakemus.hakutoiveet);\n    this.henkilotiedot = convertHenkilotiedot(json.hakemus.answers.henkilotiedot);\n    this.henkiloNimi = parseName(json.hakemus.answers.henkilotiedot);\n    this.persistedAnswers = json.hakemus.answers;\n    this.additionalQuestions = Question.getQuestions(json.questions, this);\n    this.tuloskirje = copy(formatTuloskirje(json.hakemus.tuloskirje));\n    this.tulosOk = json.tulosOk;\n    this.requiredPaymentState = json.hakemus.requiredPaymentState;\n    this.calculatedValues = {\n      postOffice: json.hakemus.postOffice\n    };\n    this.oiliJwt = null;\n    this.hakemusSource = json.hakemusSource;\n    this.previewUrl = json.previewUrl;\n  }\n\n  removePreference(index) {\n    this.hakutoiveet.splice(index, 1)\n    updatePreferenceQuestionIds.call(this, function(arr) {\n      arr.splice(index, 1)\n    })\n  }\n\n  addPreference(hakutoive) {\n    this.hakutoiveet.push(hakutoive)\n  }\n\n  hasPreference(index) {\n    return index >= 0 && index <= this.hakutoiveet.length-1 && this.hakutoiveet[index].hasData()\n  }\n\n  movePreference(from, to) {\n    this.hakutoiveet[from].setAsModified()\n    this.hakutoiveet[to].setAsModified()\n    this.hakutoiveet.splice(to, 0, this.hakutoiveet.splice(from, 1)[0])\n\n    updatePreferenceQuestionIds.call(this,\n      function(arr) {\n        arr.splice(to, 0, arr.splice(from, 1)[0])\n      }\n    )\n  }\n\n  canMovePreference(from, to) {\n    var lastFilledItem = (function getLastFilled(hakutoiveet) {\n      for (var i=hakutoiveet.length-1; i>=0; i--)\n        if (hakutoiveet[i].hasData())\n          return i\n      return -1\n    })(this.hakutoiveet)\n\n    return !this.preferenceLocked(from) && this.hakutoiveet[from].hasData() && from >= 0 && to <= lastFilledItem && to >= 0\n  }\n\n  preferenceLocked(index) {\n    var hakutoive = this.hakutoiveet[index]\n    var hakuaikaId = hakutoive.hakuaikaId\n    var self = this\n\n    function isPeriodActive(applicationPeriodId) {\n      var period = _(self.haku.applicationPeriods).find(function(period) { return period.id === applicationPeriodId })\n      return period !== undefined ? period.active : self.haku.active\n    }\n\n    if (hakutoive.addedDuringCurrentSession) {\n      return false\n    } else if (!_.isEmpty(hakutoive.kohdekohtainenHakuaika)) {\n      return !hakutoive.kohdekohtainenHakuaika.active\n    } else if (!_.isEmpty(hakuaikaId)) {\n      return !isPeriodActive(hakuaikaId)\n    } else {\n      return !this.haku.active\n    }\n  }\n\n  allResultsAvailable() {\n    return !this.hasResultState([\"KESKEN\", \"VARALLA\"]) && this.valintatulosHakutoiveet().length > 0\n  }\n\n  resultFetchedSuccessfully() {\n    return this.tulosOk\n  }\n\n  hasSomeResults() {\n    return this.valintatulosHakutoiveet().length > 0\n  }\n\n  hasSomeNonKeskenResults() {\n    return this.hasSomeResults() && _(this.valintatulosHakutoiveet()).some(function(hakutoive) { return hakutoive.valintatila != \"KESKEN\" })\n  }\n\n  valintatulosHakutoiveet() {\n    return this.state && this.state.valintatulos ? this.state.valintatulos.hakutoiveet : []\n  }\n\n  applicationPeriodsInactive() {\n    return _(this.haku.applicationPeriods).every(function(period) { return !period.active })\n  }\n\n  editHakutoiveetEnabled() {\n    return this.state && (this.state.id === 'ACTIVE' || this.state.id === 'INCOMPLETE') && this.hakemusSource !== 'Ataru'\n  }\n\n  editHenkilotiedotEnabled() {\n    return this.editHakutoiveetEnabled() || (this.state && this.state.id === \"HAKUKAUSIPAATTYNYT\" && this.hakemusSource !== 'Ataru')\n  }\n\n  vastaanotettavatHakutoiveet() {\n    return _(this.valintatulosHakutoiveet()).filter(function(hakutoive) {\n      return (hakutoive.vastaanotettavuustila === \"VASTAANOTETTAVISSA_SITOVASTI\" || hakutoive.vastaanotettavuustila === \"VASTAANOTETTAVISSA_EHDOLLISESTI\") && hakutoive.vastaanottotila == \"KESKEN\"\n    })\n  }\n\n  ilmoittautumisLinkit() {\n    return _(this.valintatulosHakutoiveet()).filter(function(tulos) {\n      return tulos.ilmoittautumistila != null &&\n        (tulos.ilmoittautumistila.ilmoittauduttavissa || ilmoittautunut(tulos.ilmoittautumistila.ilmoittautumistila))\n    });\n\n    function ilmoittautunut(ilmoittautumistila) {\n        return ['LASNA_KOKO_LUKUVUOSI', 'POISSA_KOKO_LUKUVUOSI', 'LASNA_SYKSY', 'POISSA_SYKSY', 'LASNA', 'POISSA'].includes(ilmoittautumistila);\n    }\n  }\n\n  kelaURL() {\n    return _.chain(this.valintatulosHakutoiveet()).map(function(tulos) {\n      return tulos.kelaURL\n    }).filter(function(k) {return k}).head().value()\n  }\n\n  oiliUrl() {\n    var oiliJwt = this.oiliJwt;\n    return _.chain(this.valintatulosHakutoiveet()).map(function(tulos) {\n      var baseUrl = tulos.ilmoittautumistila.ilmoittautumistapa.url;\n      return baseUrl.endsWith('/oili/') ? baseUrl : baseUrl + '?token=' + oiliJwt;\n    }).filter(function(k) {return k}).head().value()\n  }\n\n  hasResultState(resultStates) {\n    if (!_.isArray(resultStates))\n      resultStates = [resultStates]\n\n    return _(this.valintatulosHakutoiveet()).any(function(hakutoive) {\n      return _(resultStates).contains(hakutoive.valintatila)}\n    )\n  }\n\n  toJson() {\n    var self = this\n\n    return {\n      oid: self.oid,\n      hakuOid: self.haku.oid,\n      hakutoiveet: _(this.hakutoiveet).map(function(hakutoive) { return hakutoive.toJson() }),\n      answers: removeFalseBooleans(getAnswers())\n    }\n\n    function getAnswers() {\n      var contactDetails = _(self.henkilotiedot).reduce(function(answers, question, id) {\n        answers.henkilotiedot[id] = question.answer\n        return answers\n      }, { henkilotiedot: {}})\n\n      var additionalQuestionAnswers = _(Question.questionMap(self.additionalQuestions)).reduce(function(answers, questionNode) {\n        answers[questionNode.id.phaseId] = answers[questionNode.id.phaseId] || {}\n        var answer = questionNode.answer\n        if (_.isObject(answer)) {\n          _(answer).each(function(val, key) {\n            answers[questionNode.id.phaseId][key] = val\n          })\n        } else {\n          answers[questionNode.id.phaseId][questionNode.id.questionId] = answer\n        }\n        return answers\n      }, {})\n\n      return _.extend({}, contactDetails, additionalQuestionAnswers)\n    }\n\n    function removeFalseBooleans(obj) {\n      _.each(obj, function(val, key) {\n        if (_.isBoolean(val) && val === false)\n          obj[key] = \"\"\n        else if (_.isObject(val))\n          removeFalseBooleans(val)\n      })\n      return obj;\n    }\n  }\n\n  mergeSavedApplication(savedApplication) {\n    this.updated = savedApplication.updated;\n    this.requiredPaymentState = savedApplication.requiredPaymentState;\n    this.notifications = savedApplication.notifications;\n\n    if (!_.isEqual(withoutAngularFields(this.state), savedApplication.state))\n      this.state = window.$.extend(true, this.state, savedApplication.state);\n\n    for (let i=0; i<this.hakutoiveet.length && i<savedApplication.hakutoiveet.length; i++) {\n      let hakutoive = this.hakutoiveet[i];\n      hakutoive.importJson(savedApplication.hakutoiveet[i]);\n      if (hakutoive.hasData()) {\n        hakutoive.setAsSaved()\n      }\n    }\n  }\n\n  importHakuajat(hakukohteet) {\n    if (hakukohteet != null) {\n      for (var i = 0; i < this.hakutoiveet.length && i < hakukohteet.length; i++) {\n        this.hakutoiveet[i].kohdekohtainenHakuaika = hakukohteet[i].kohdekohtainenHakuaika\n      }\n    }\n  }\n\n  importPaymentInfo(paymentInfo) {\n    var hakemus = this\n    paymentInfo = paymentInfo || {}\n    this.hakutoiveet.forEach(function(hakutoive) {\n      var hakemusPaid = hakemus.requiredPaymentState === 'OK'\n      hakutoive.showPaymentNotification = paymentInfo[hakutoive.data['Koulutus-id']] && !hakemusPaid\n    });\n  }\n\n  validatePreferences() {\n    return (this.hakutoiveet.length > 0 && this.hakutoiveet[0].hasData()) &&\n      _(this.hakutoiveet).every(function(hakutoive) {\n        return hakutoive.isValid()\n      }) && !_(this.hakutoiveet.slice(0, this.lastIndexWithData() + 1)).any(function(hakutoive) {\n        return !hakutoive.hasData()\n      })\n  }\n\n  getChangedPreferences() {\n    return _(this.hakutoiveet).chain()\n      .map(function(hakutoive, index) { return hakutoive.isModified ? index : null })\n      .without(null)\n      .value()\n  }\n\n  isEditable(index) {\n    return !this.applicationPeriodsInactive() &&  index <= this.lastIndexWithData() + 1\n  }\n\n  lastIndexWithData() {\n    for (var i = this.hakutoiveet.length - 1; i >= 0; i--) {\n      if (this.hakutoiveet[i].hasData()) return i\n    }\n    return -1\n  }\n\n  compareQuestionMapsIgnoring(oldQuestions, newQuestions, ignored) {\n    var areEqual = false;\n\n    if (_.keys(oldQuestions).length === _.keys(newQuestions).length) {\n      areEqual = _.every(newQuestions, function (question, id) {\n        if (oldQuestions[id]) {\n          var oldQ = _.omit(oldQuestions[id], ignored);\n          var Q = _.omit(question, ignored);\n          return angular.equals(oldQ, Q);\n        } else {\n          return false;\n        }\n      });\n    } else {\n      areEqual = false;\n    }\n\n    return areEqual;\n  }\n\n  importQuestions(questions) {\n    var currentQuestions = Question.questionMap(this.additionalQuestions);\n    var newQuestions = Question.questionMap(questions);\n    var equalQuestions = this.compareQuestionMapsIgnoring(currentQuestions, newQuestions, ['answer', 'errors']);\n\n    if (equalQuestions) {\n      this.additionalQuestions = (function mergeErrors(old, questions) {\n        var oldQuestions = Question.questionMap(old);\n        _(oldQuestions).each(function(oldQuestion, id) {\n          if (questions[id] != null)\n            oldQuestion.errors = questions[id].errors;\n        });\n        return old;\n      })(this.additionalQuestions, questions);\n      return this.additionalQuestions;\n    } else {\n      this.additionalQuestions = (function mergeOldAnswers(old, questions) {\n        var oldQuestions = Question.questionMap(old);\n        _(Question.questionMap(questions)).each(function(newQuestion, id) {\n          if (oldQuestions[id] != null)\n            newQuestion.answer = oldQuestions[id].answer;\n        });\n        return questions;\n      })(this.additionalQuestions, questions);\n\n      return this.additionalQuestions;\n    }\n  }\n\n  updateValidationMessages(errors, skipQuestions) {\n    var errorMap = mapArray(errors, \"key\", \"message\")\n    var hakutoiveMap = Hakutoive.hakutoiveMap(this.hakutoiveet)\n    var questionMap = _.extend({}, Question.questionMap(this.additionalQuestions), this.henkilotiedot)\n    var unhandled = []\n\n    clearErrors()\n\n    _(errorMap).each(function(errorList, key) {\n      if (!updateErrors(key, errorList))\n        unhandled.push({questionId: key, errors: errorList})\n    })\n\n    return unhandled\n\n    function clearErrors() {\n      _(hakutoiveMap).each(function(item) {\n        item.setErrors()\n      });\n      if (!skipQuestions) {\n        _(questionMap).each(function(item) {\n          try {\n            item.setErrors()\n          } catch (e) {\n            console.log(\"For some unfathomable reason item.setErrors() is not defined here although it should be! Should be fixed hakemus.js#updateValidationMessages().\");\n          }\n        })\n      }\n    }\n\n    function updateErrors(questionId, errors) {\n      if (questionMap[questionId] != null) {\n        if (!skipQuestions)\n          questionMap[questionId].appendErrors(errors)\n        return true\n      } else if (Hakutoive.isHakutoiveError(questionId)) {\n        hakutoiveMap[Hakutoive.questionIdToHakutoiveId(questionId)].appendErrors(errors)\n        return true\n      } else {\n        return false\n      }\n    }\n  }\n}\n\nfunction copy(json) { return $.extend(true, {}, json) }\n\nfunction formatTuloskirje(tuloskirje) {\n  if(tuloskirje) {\n    var date = new Date(tuloskirje.created);\n    var yyyy = date.getFullYear();\n    var mm = date.getMonth() + 1;\n    var dd  = date.getDate();\n    tuloskirje.createdDate = dd + \".\" + mm + \".\" + yyyy\n  }\n  return tuloskirje;\n}\n\nfunction convertHenkilotiedot(json) {\n  if (!_.isUndefined(json)) {\n    var fields = [\"Sähköposti\", \"matkapuhelinnumero1\", \"asuinmaa\", \"lahiosoite\", \"Postinumero\"];\n    return _(fields).reduce(function (memo, key) {\n      memo[key] = new Question({id: key}, json[key]);\n      return memo\n    }, {})\n  }\n}\n\nfunction parseName(json) {\n  if (!_.isUndefined(json)) {\n    var etunimi = json[\"Etunimet\"];\n    if (!etunimi) {\n      etunimi = json[\"Kutsumanimi\"];\n    }\n    return etunimi + \" \" + json[\"Sukunimi\"];\n  }\n}\n\nfunction convertHakutoiveet(hakutoiveet) {\n  return _(hakutoiveet).map(function(hakutoive) { return new Hakutoive(hakutoive) })\n}\n\nfunction updatePreferenceQuestionIds(manipulationF) {\n  var newIndexes = (function getNewIndexes() {\n    var arr = _.range(1, this.hakutoiveet.length+1)\n    manipulationF(arr)\n    var indexes = _(arr).map(function(val, index) { return [val, index+1] })\n    return _.object(indexes)\n  }).call(this)\n\n  _(Question.questionMap(this.additionalQuestions)).each(function(question, id) {\n    var questionIdParts = /^(preference)(\\d+)([-_].+)/.exec(id)\n    if (questionIdParts != null) {\n      var newId = questionIdParts[1] + newIndexes[questionIdParts[2]] + questionIdParts[3]\n      question.id.questionId = newId\n    }\n  })\n}\n","import Hakemus from '../models/hakemus';\nconst _ = require('underscore');\n\nexport default [\"restResources\", function (restResources) {\n  return {\n    restrict: 'E',\n    scope: true,\n    template: require('./applicationList.html'),\n\n    link: function ($scope, element, attrs) {\n      $scope.$on(\"hakutoive-vastaanotettu\", function() {\n        loadApplications()\n      });\n      $scope.loadApplications = loadApplications\n      loadApplications();\n\n      function loadApplications() {\n        $scope.applicationStatusMessage = \"message.loadingApplications\";\n        $scope.applicationStatusMessageType = \"ajax-spinner\";\n        restResources.applications.get(success, error)\n      }\n\n      function success(data) {\n        $scope.allApplicationsFetched = data.allApplicationsFetched;\n        $scope.applications = _.map(data.applications, function(json) {\n          var application = new Hakemus(json);\n          application.isHakutoiveidenMuokkaus = false;\n          return application;\n        });\n        if($scope.applications.length > 0) {\n          $scope.applicationStatusMessage = \"\";\n          $scope.applicationStatusMessageType = \"\"\n        } else if (!$scope.allApplicationsFetched) {\n          $scope.applicationStatusMessage = \"error.loadingFailed\";\n          $scope.applicationStatusMessageType = \"error\"\n        } else {\n          $scope.applicationStatusMessage = \"message.noApplications\";\n          $scope.applicationStatusMessageType = \"info\"\n        }\n      }\n\n      function error(err) {\n        switch (err.status) {\n          case 401:\n            document.location.replace(window.url(\"omatsivut.login\"));\n            break;\n          case 404:\n            $scope.applicationStatusMessage = \"errorPage.noApplicationsFound.text\";\n            $scope.applicationStatusMessageType = \"info\";\n            break;\n          default:\n            $scope.applicationStatusMessage = \"error.loadingFailed\";\n            $scope.applicationStatusMessageType = \"error\"\n        }\n        $scope.applications = [];\n      }\n    }\n  }\n}]\n","const _ = require('underscore');\n\nexport default ['RecursionHelper', function(RecursionHelper) {\n  return {\n    restrict: 'E',\n    scope: {\n      questionNode: '=',\n      application: '=',\n      level: '='\n    },\n    template: require('./question.html'),\n    compile: function (element) {\n      return RecursionHelper.compile(element, function ($scope, iElement, iAttrs, controller, transcludeFn) {\n        $scope.isGroup = function () {\n          return $scope.questionNode && !_.isEmpty($scope.questionNode.questionNodes)\n        }\n      })\n    }\n  }\n}]\n","export default [\"settings\", function(settings) {\n  return function($scope, $element, attrs) {\n    var slide = function(el, offset) {\n      el.css(\"transition\", \"all 0.5s\")\n      el.css(\"transform\", \"translate3d(0px, \" + offset + \"px, 0px)\")\n    }\n\n    var resetSlide = function(el) {\n      el.css({\n        \"transition\": \"\",\n        \"transform\": \"\"\n      })\n    }\n\n    var switchPlaces = function(element1, element2) {\n      var diffY = Math.abs(element1.offset().top - element2.offset().top)\n\n      if (element1.index() < element2.index()) {\n        slide(element1, element2.outerHeight() + diffY-element1.outerHeight())\n        slide(element2, -diffY)\n      } else {\n        slide(element2, element1.outerHeight() + diffY-element2.outerHeight())\n        slide(element1, -diffY)\n      }\n\n      setTimeout(function() {\n        $scope.$apply(function(self) {\n          var items = $element.find(attrs.sortableItem)\n          self[attrs.sortableMoved](items.index(element1), items.index(element2))\n          resetSlide(element1)\n          resetSlide(element2)\n        })\n      }, settings.uiTransitionTime)\n    }\n\n    var arrowClicked = function(elementF) {\n      return function(evt) {\n        var btn = $(evt.target)\n        if (!btn.hasClass(\"disabled\")) {\n          var element1 = btn.closest(attrs.sortableItem)\n          var element2 = element1[elementF]()\n          switchPlaces(element1, element2)\n        }\n      }\n    }\n\n    $element.on(\"click\", \".sort-arrow-down\", arrowClicked(\"next\"))\n    $element.on(\"click\", \".sort-arrow-up\", arrowClicked(\"prev\"))\n  }\n}]\n","import localize from '../localization';\nimport Hakutoive from '../models/hakutoive';\nimport Question from '../models/question';\nconst _ = require('underscore');\n\nexport default [\"restResources\", \"applicationValidator\", \"settings\", \"debounce\", \"$timeout\", function (restResources, applicationValidator, settings, debounce, $timeout) {\n  return {\n    restrict: 'E',\n    scope: {\n      application: \"=\"\n    },\n    template: require('./application.html'),\n\n    link: function ($scope, $element, attrs) {\n      $scope.localization = localize;\n      var applicationValidatorBounced = debounce(applicationValidator(), settings.modelDebounce)\n      $scope.isSaveable = true\n      $scope.isValidating = false\n\n      $scope.timestampLabel = function() {\n        if ($scope.application.received === $scope.application.updated)\n          return localization(\"label.applicationReceived\")\n        else\n          return localization(\"label.applicationUpdated\")\n      }\n      $scope.shouldSaveButtonBeDisabled = function() {\n        return $scope.applicationForm.$pristine || $scope.statusMessageType === 'pending' || !$scope.isSaveable || $scope.isValidating\n      }\n\n      $scope.statusMessageStyleModifier = function() {\n        return {\n          'ajax-spinner': $scope.statusMessageType === 'pending',\n          error: $scope.statusMessageType === 'error',\n          success: $scope.statusMessageType === 'success'\n        }\n      }\n\n      function getHakutoiveet() {\n        return _($scope.application.hakutoiveet).map(function(hakutoive) {\n          return {\n            \"Koulutus\": hakutoive.data[\"Koulutus\"],\n            \"Koulutus-id\": hakutoive.data[\"Koulutus-id\"],\n            \"Opetuspiste\": hakutoive.data[\"Opetuspiste\"],\n            \"Opetuspiste-id\": hakutoive.data[\"Opetuspiste-id\"]\n          }\n        })\n      }\n\n      function getAnswers() {\n        var answersToAdditionalQuestions = _(Question.questionMap($scope.application.additionalQuestions)).map(function(item, key) { return item.answer })\n        var otherAnswers = _($scope.application.henkilotiedot).map(function(item) { return item.answer })\n        return answersToAdditionalQuestions.concat(otherAnswers)\n      }\n\n      $scope.$watch(getHakutoiveet, function(hakutoiveet, oldHakutoiveet) {\n        // Skip initial values angular style\n        if (!_.isEqual(hakutoiveet, oldHakutoiveet)) {\n          applicationChanged()\n          validateHakutoiveet(true)\n        }\n      }, true)\n\n      $scope.$watch(getAnswers, function(answers, oldAnswers) {\n        if (!_.isEqual(oldAnswers, answers)) {\n          applicationChanged()\n        }\n      }, true)\n\n      $scope.$on(\"questionAnswered\", function() {\n        validateHakutoiveet(false)\n      })\n\n      $scope.hakutoiveVastaanotettu = function(hakutoive, updated) {\n        $scope.application.mergeSavedApplication(updated.hakemus)\n        $timeout(function() {\n          $scope.$emit(\"hakutoive-vastaanotettu\", hakutoive)\n        }, 0)\n      }\n\n      $scope.url = window.url;\n\n      function applicationChanged() {\n        $scope.applicationForm.$setDirty()\n        if ($scope.statusMessageType === \"success\")\n          setStatusMessage(\"\")\n      }\n\n      function validateHakutoiveet(skipQuestions) {\n        applicationValidatorBounced($scope.application, beforeBackendValidation, success, error)\n\n        function beforeBackendValidation() {\n          setValidatingIndicator(true)\n        }\n\n        function success(data) {\n          setStatusMessage(localize(\"message.validationOk\"), \"info\")\n          $scope.isSaveable = true\n          setValidatingIndicator(false)\n          $scope.application.importQuestions(data.questions)\n          $scope.application.importHakuajat(data.response.hakemus.hakutoiveet)\n          $scope.application.importPaymentInfo(data.response.paymentInfo)\n          $scope.application.notifications = data.response.hakemus.notifications\n          $scope.application.tuloskirjeet = data.response.hakemus.tuloskirjeet\n          updateValidationMessages([], skipQuestions)\n        }\n\n        function error(data) {\n          setValidatingIndicator(false)\n          if (!data.statusCode) { // validointi epäonnistui frontendissä\n            $scope.isSaveable = false\n            setStatusMessage(localize(\"error.validationFailed\"), \"error\")\n          } else if (data.statusCode === 200) {\n            $scope.isSaveable = _.isEmpty(data.errors)\n            setStatusMessage(localize(\"error.validationFailed\"), \"error\")\n          } else if (data.statusCode == 401) {\n            $scope.isSaveable = true\n            setStatusMessage(localize(\"error.sessionExpired\"), \"error\")\n          } else if (data.statusCode == 500) {\n            $scope.isSaveable = true\n            setStatusMessage(localize(\"error.serverError\"), \"error\")\n          } else {\n            $scope.isSaveable = false\n            setStatusMessage(localize(\"error.validationFailed_httpError\"), \"error\")\n          }\n\n          var updateQuestions = data.questions != null && !Hakutoive.hasHakutoiveErrors(data.errors)\n          var errors = data.errors\n\n          if (updateQuestions) {// frontside validation does not include questions -> don't update\n            $scope.application.importQuestions(data.questions)\n          } else {\n            errors = _(data.errors).filter(function (error) { return Hakutoive.isHakutoiveError(error.key) })\n          }\n          if (data.response != null && data.response.hakemus != null) {\n            $scope.application.importHakuajat(data.response.hakemus.hakutoiveet)\n            $scope.application.notifications = data.response.hakemus.notifications\n            $scope.application.tuloskirjeet = data.response.hakemus.tuloskirjeet\n          }\n\n          updateValidationMessages(errors, skipQuestions)\n        }\n      }\n\n      $scope.preferenceMoved = function() {\n        setStatusMessage(\"\")\n      }\n\n      function setStatusMessage(msg, type) {\n        $scope.statusMessage = msg\n        $scope.statusMessageType = type || \"\"\n      }\n\n      var setValidatingIndicator = debounce(function(isVisible) {\n        $scope.isValidating = isVisible\n      }, settings.uiIndicatorDebounce)\n\n      $scope.saveApplication = function() {\n        restResources.applications.update({id: $scope.application.oid }, $scope.application.toJson(), onSuccess, onError)\n        setStatusMessage(\"\", \"pending\")\n\n        function onSuccess(savedApplication) {\n          highlightSavedItems($scope.application.getChangedPreferences())\n          $scope.$broadcast(\"show-callout\", \"attachments\", savedApplication.requiresAdditionalInfo === true && $scope.application.getChangedPreferences().length > 0)\n          $scope.application.mergeSavedApplication(savedApplication)\n          $scope.applicationForm.$setPristine()\n          setStatusMessage(localize(\"message.changesSaved\"), \"success\")\n          updateValidationMessages([])\n          if($scope.application.editHakutoiveetEnabled()) scrollToTop()\n        }\n\n        function onError(err) {\n          var saveError = (function() {\n            if (err.status == 400 && (_.isArray(err.data) && err.data.length > 0))\n              return \"error.saveFailed_validationError\"\n            else if (err.status == 400 && !(_.isArray(err.data) && err.data.length > 0))\n              return \"error.serverError\"\n            else if (err.status == 401)\n              return \"error.saveFailed_sessionExpired\"\n            else if (err.status == 500)\n              return \"error.serverError\"\n            else\n              return \"error.saveFailed\"\n          })()\n\n          setStatusMessage(localize(saveError), \"error\")\n          if (err.status == 400) // Validointivirhe\n            updateValidationMessages(err.data)\n        }\n      }\n\n      function highlightSavedItems(indexes) {\n        var items = $element.find(\".preference-list-item\")\n\n        _.each(indexes, function(index) {\n          items.eq(index).addClass(\"saved\")\n        })\n\n        $element.find(\".timestamp-row\").addClass(\"saved\")\n        $element.find(\".yhteystiedot .ng-dirty\").addClass(\"saved\") // edited contact details\n\n        window.setTimeout(function() {\n          $element.find(\".saved\").removeClass(\"saved\")\n          $(\".timestamp-row\").removeClass(\"saved\")\n        }, 3000)\n      }\n\n      function scrollToTop() {\n        var $applicationHeader = $($element[0]).find(\".application-header\")\n        if ($applicationHeader.get(0) != null && $(window).scrollTop() > $applicationHeader.get(0).offsetTop) $applicationHeader.get(0).scrollIntoView()\n      }\n\n      function updateValidationMessages(errors, skipQuestions) {\n        var unhandledMessages = $scope.application.updateValidationMessages(errors, skipQuestions)\n        unhandledMessages = hideErrorIfAlreadyShowsKoulutusError(unhandledMessages)\n\n        if (unhandledMessages.length > 0) {\n          _(unhandledMessages).each(function(item) {\n            console.log(\"Validaatiovirhettä ei käsitelty:\", item.questionId, item.errors)\n          })\n\n          setStatusMessage(localize(\"error.serverError\"), \"error\")\n        }\n\n        function hideErrorIfAlreadyShowsKoulutusError(messages) {\n          return _(messages).filter(function(message) {\n            var index = Hakutoive.parseHakutoiveIndex(message.questionId)\n            var relatedErrorShown = _(errors).any(function(error) {\n              return Hakutoive.isHakutoiveError(error.key) && Hakutoive.parseHakutoiveIndex(error.key) == index\n            })\n            return !relatedErrorShown\n          })\n        }\n      }\n    }\n  }\n}]\n","import moment from 'moment';\nimport 'moment/locale/fi';\nimport 'moment/locale/sv';\nimport 'moment/locale/en-gb';\nimport { getLanguage } from './staticResources';\n\nconst language = getLanguage();\nif (language === \"en\")\n  moment.locale(\"en-gb\");\nelse\n  moment.locale(language);\n\nexport default moment;\n","import localize from '../localization';\nimport moment from '../moment';\n\nexport default class HakutoiveenVastaanotto {\n  constructor() {\n    this.restrict = 'E';\n    this.bindToController = {\n      applicationOid: '&',\n      haku: '&',\n      hakutoiveet: '&',\n      callback: '='\n    };\n    this.template = require('./hakutoiveenVastaanotto.html');\n    this.controller = HakutoiveenVastaanottoController;\n    this.controllerAs = 'ctrl';\n  }\n\n  link(scope, element, attrs) {\n    scope.localization = localize;\n  }\n}\n\nclass HakutoiveenVastaanottoController {\n  constructor($timeout, restResources, $scope) {\n    this.$timeout = $timeout;\n    this.restResources = restResources;\n\n    try {\n      this.email = $scope.$parent.$parent.application.henkilotiedot['Sähköposti'].answer\n    } catch (e) {\n      this.email = '';\n    }\n  }\n\n  formatTimestamp(dt) {\n    return moment(dt).format('LLL').replace(/,/g, \"\");\n  };\n\n  isVastaanottoKesken() {\n    return this.ajaxPending || this.vastaanottoSentSuccessfully;\n  };\n\n  isNotVastaanotettavissa() {\n    return !(this.vastaanottoAction && this.vastaanottoAction.length !== 0)\n      || this.isVastaanottoKesken()\n      || (this.isRejectSelected() && !this.confirmCancelAction && this.isKkHaku());\n  }\n\n  isRejectSelected() {\n    return this.vastaanottoAction === 'Peru';\n  }\n\n  isKkHaku() {\n    return !this.haku().toisenasteenhaku;\n  }\n\n  flashSiirtohakuNotification() {\n    this.siirtohakuClass = 'siirtohaku-fade-out';\n    this.$timeout(() => this.siirtohakuClass = 'siirtohaku-fade-in', 50)\n  };\n\n  vastaanotaHakutoive(hakutoive) {\n    this.ajaxPending = true;\n\n    const pathParams = {\n      hakemusOid: this.applicationOid(),\n      hakukohdeOid: hakutoive.hakukohdeOid\n    };\n\n    const data = {\n      vastaanottoAction: {action: this.vastaanottoAction},\n      email: this.email,\n      hakukohdeNimi: hakutoive.hakukohdeNimi,\n      tarjoajaNimi: hakutoive.tarjoajaNimi\n    };\n\n    var promise = this.restResources.vastaanota.post(pathParams, data).$promise;\n    promise.then(this.onSuccess(hakutoive), this.onError());\n  }\n\n  onSuccess(hakutoive) {\n    var self = this;\n    return function(updatedApplication) {\n      self.ajaxPending = false;\n      self.error = \"\";\n      self.vastaanottoSentSuccessfully = true;\n      self.$timeout(() => self.callback(hakutoive, updatedApplication), 3500);\n    }\n  }\n\n  onError() {\n    var self = this;\n    return function(err) {\n      var errorKey = (function () {\n        if (err.status == 401)\n          return \"error.saveFailed_sessionExpired\";\n        else if (err.status == 500)\n          return \"error.serverError\";\n        else if (err.status == 403)\n          return \"error.priorAcceptance\";\n        else\n          return \"error.saveFailed\";\n      })();\n      self.error = localize(errorKey);\n      self.ajaxPending = false;\n    }\n  }\n}\n\nHakutoiveenVastaanottoController.$inject = ['$timeout', 'restResources', '$scope'];\n","import localize from '../localization';\nconst _ = require('underscore');\n\nexport default function () {\n  // noinspection JSAnnotator\n  return {\n      restrict: 'E',\n      scope: {\n        hakukohteet: '&',\n        oili: '&',\n        application: '='\n      },\n      template: require('./ilmoittautuminen.html'),\n      link: function ($scope, element, attrs) {\n        $scope.localization = localize;\n\n        $scope.statesToReport = {\n          LASNA_KOKO_LUKUVUOSI: 'semester',\n          POISSA_KOKO_LUKUVUOSI: 'away',\n          LASNA_SYKSY: 'autumn',\n          POISSA_SYKSY: 'spring',\n          LASNA: 'spring',\n          POISSA: 'away_spring'\n        };\n\n        $scope.linkkiOK = function(tulos) {\n          return tulos.ilmoittautumistila.ilmoittautumistapa != null &&\n            tulos.ilmoittautumistila.ilmoittautumistapa.url\n        };\n\n        $scope.ilmoittautumistietoNaytetaan = function(tulos) {\n          if (tulos && tulos.ilmoittautumistila && tulos.ilmoittautumistila.ilmoittautumistila) {\n            return $scope.statesToReport[tulos.ilmoittautumistila.ilmoittautumistila];\n          } else return false;\n        };\n\n        $scope.getEnrolmentMessageKeys = function(tulos) {\n          var date = tulos.ilmoittautumisenAikaleima ? new Date(tulos.ilmoittautumisenAikaleima) : new Date();\n          return {date: date.toLocaleDateString('fi-FI'), time: date.toLocaleTimeString('fi-FI')}\n        };\n\n        $scope.getStateTranslation = function(tulos) {\n          return localize('lasnaoloilmoittautuminen.' + $scope.statesToReport[tulos.ilmoittautumistila.ilmoittautumistila] );\n        };\n\n        $scope.ohjeetUudelleOpiskelijalle = function(hakukohdeOid) {\n          var hakutoiveet = $scope.application.hakutoiveet ? $scope.application.hakutoiveet : [];\n          return hakutoiveet.filter(function(hakutoive) {\n              return hakutoive.ohjeetUudelleOpiskelijalle && hakutoive.data[\"Koulutus-id\"] == hakukohdeOid;\n            }).map(function(hakutoive) {\n              return hakutoive.ohjeetUudelleOpiskelijalle;\n            }).pop();\n        }\n      }\n  }\n}\n\n\n","import localize from '../localization';\nconst _ = require('underscore');\n\nexport default function () {\n  return {\n    restrict: 'E',\n    scope: {\n      application: \"=\",\n      preferenceMoved: \"=\",\n      validating: \"=\"\n    },\n    template: require('./hakutoiveet.html'),\n\n    link: function ($scope, element, attrs) {\n      $scope.localization = localize;\n\n      $scope.movePreference = function(from, to) {\n        if (to >= 0 && to < this.application.hakutoiveet.length) {\n          this.application.movePreference(from, to)\n          this.preferenceMoved()\n        }\n      }\n    }\n  }\n}\n","import { VASTAANOTTOTILA, VASTAANOTTO_ACTION } from '../constants';\nimport { underscoreToCamelCase } from '../util';\nimport { getLanguage } from '../staticResources';\nimport localize from '../localization';\n\nconst _ = require('underscore');\n\nexport default [\"restResources\", function(restResources) {\n  return {\n    restrict: 'E',\n    scope: {\n      valintatulos: '&data',\n      application: '=application',\n      isFinal: '&final',\n      callback: '=callback'\n    },\n    template: require('./valintatulos.html'),\n    link: function ($scope, element, attrs) {\n      $scope.localization = localize;\n      $scope.VASTAANOTTOTILA = VASTAANOTTOTILA;\n      $scope.error = false\n      $scope.language = getLanguage();\n\n      $scope.formatDate = function(dt) {\n        if (dt == null)\n          return \"\"\n        else\n          return moment(dt).format('LL').replace(/,/g, \"\")\n      }\n\n      $scope.$watch(\"isFinal()\", function(value) {\n        $scope.status = value ? localize(\"label.resultsFinal\") : localize(\"label.resultsPending\")\n      })\n\n      $scope.getError = function() {\n        if ($scope.error) {\n          return localize($scope.error)\n        }\n      }\n      $scope.isHyvaksyttyKesken = function(valintatulos, valintatulokset) {\n        if(valintatulos.valintatila === \"HYVAKSYTTY\") {\n          var firstKeskenIndex = _.findIndex(valintatulokset, function(v) { return v.valintatila === \"KESKEN\" || v.valintatila === \"VARALLA\"})\n          if(firstKeskenIndex != -1) {\n            var valintatulosIndex = _.findIndex(valintatulokset, function(v) { return v.hakukohdeOid === valintatulos.hakukohdeOid})\n            // If hyvaksytty hakemus is not vastaanotettavissa it belongs to kk haku with sijoittelu\n            return firstKeskenIndex < valintatulosIndex && valintatulos.vastaanotettavuustila === \"EI_VASTAANOTETTAVISSA\";\n          }\n        }\n        return false;\n      }\n\n      $scope.valintatulosText = function(valintatulos, valintatulokset) {\n        var isHyvaksyttyKesken = $scope.isHyvaksyttyKesken(valintatulos, valintatulokset);\n        var key = isHyvaksyttyKesken ? \"HyvaksyttyKesken\" : underscoreToCamelCase(valintatulos.valintatila);\n        var ehdollisenHyvaksymisenKenttaEhto = localize(\"label.resultState.EhdollisenHyvaksymisenEhdonKentanNimi\");\n\n        if ([VASTAANOTTOTILA.VASTAANOTTANUT_SITOVASTI, VASTAANOTTOTILA.EI_VASTAANOTETTU_MAARA_AIKANA, VASTAANOTTOTILA.EHDOLLISESTI_VASTAANOTTANUT].indexOf(valintatulos.vastaanottotila) >= 0) {\n          key = underscoreToCamelCase(valintatulos.vastaanottotila);\n          return localize(\"label.resultState.\" + key)\n        } else if (!_.isEmpty(tilanKuvaus(valintatulos))) {\n          if(valintatulos.valintatila === \"PERUNUT\"){\n            return localize(\"label.resultState.\" + key)\n          } else if(valintatulos.valintatila === \"HYLATTY\"){\n            return localize(\"label.resultState.\" + key) + \" \" + tilanKuvaus(valintatulos)\n          } else if(hyvaksytty(valintatulos) && valintatulos.ehdollisestiHyvaksyttavissa) {\n            if (valintatulos.ehdollisenHyvaksymisenEhtoKoodi !== undefined && valintatulos.ehdollisenHyvaksymisenEhtoKoodi != null) {\n                return localize(\"label.resultState.\" + key) + ' (' + valintatulos[ehdollisenHyvaksymisenKenttaEhto] + ')';\n            }\n            return localize(\"label.resultState.\" + key) + localize(\"label.resultState.EhdollinenPostfix\")\n          } else {\n            return tilanKuvaus(valintatulos)\n          }\n        } else if (valintatulos.valintatila === \"VARALLA\" && valintatulos.varasijojaTaytetaanAsti != null) {\n          return localize(\"label.resultState.VarallaPvm\", {\n            varasija: valintatulos.varasijanumero ? valintatulos.varasijanumero + \".\" : \"\",\n            varasijaPvm: $scope.formatDate(valintatulos.varasijojaTaytetaanAsti)\n          })\n        } else if(hyvaksytty(valintatulos) && valintatulos.ehdollisestiHyvaksyttavissa) {\n          if (valintatulos.ehdollisenHyvaksymisenEhtoKoodi !== undefined && valintatulos.ehdollisenHyvaksymisenEhtoKoodi != null) {\n            return localize(\"label.resultState.\" + key) + ' (' + valintatulos[ehdollisenHyvaksymisenKenttaEhto] + ')';\n          }\n          return localize(\"label.resultState.\" + key) + localize(\"label.resultState.EhdollinenPostfix\")\n        } else {\n          return localize(\"label.resultState.\" + key, {\n            varasija: valintatulos.varasijanumero ? valintatulos.varasijanumero + \".\" : \"\"\n          })\n        }\n      };\n\n      $scope.vastaanotaSitovasti = function(application, hakukohde) {\n        var email = ''\n        try {\n          email = application.henkilotiedot['Sähköposti'].answer\n        }\n        catch (e) {\n          email = ''\n        }\n        $scope.ajaxPending = true\n\n        restResources.vastaanota.post({hakemusOid: application.oid, hakukohdeOid: hakukohde.hakukohdeOid}, {\n          vastaanottoAction: { action: VASTAANOTTO_ACTION.VASTAANOTA_SITOVASTI },\n          email: email,\n          hakukohdeNimi: hakukohde.hakukohdeNimi,\n          tarjoajaNimi: hakukohde.tarjoajaNimi\n        }, onSuccess, onError)\n\n        function onSuccess(updatedApplication) {\n          $scope.ajaxPending = false\n          $scope.error = \"\"\n          $scope.vastaanottoSentSuccessfully = true\n          $scope.callback(hakukohde, updatedApplication)\n        }\n\n        function onError(err) {\n          $scope.ajaxPending = false\n          $scope.error = (function () {\n            if (err.status == 401)\n              return \"error.saveFailed_sessionExpired\"\n            else if (err.status == 500)\n              return \"error.serverError\"\n            else if (err.status == 403)\n              return \"error.priorAcceptance\"\n            else\n              return \"error.saveFailed\"\n          })()\n        }\n      }\n\n      $scope.valintatulosStyle = function(valintatulos) {\n        if (hyvaksytty(valintatulos))\n          return \"accepted\"\n      }\n\n      function hyvaksytty(valintatulos) {\n        return valintatulos.valintatila == \"HYVAKSYTTY\" || valintatulos.valintatila == \"HARKINNANVARAISESTI_HYVAKSYTTY\" || valintatulos.valintatila == \"VARASIJALTA_HYVAKSYTTY\"\n      }\n\n      function tilanKuvaus(valintatulos) {\n        return valintatulos.tilanKuvaukset[getLanguage().toUpperCase()]\n      }\n    }\n  }\n}]\n","import localize from '../localization';\n\nexport default [\"restResources\", \"debounce\", \"settings\", \"angularBacon\", function (restResources, debounce, settings, angularBacon) {\n  return {\n    restrict: 'E',\n    scope: {\n      application: '=application'\n    },\n    template: require('./henkilotiedot.html'),\n    link: function ($scope, element, attrs) {\n      $scope.localization = localize;\n      $scope.yhteystiedot = $scope.application.henkilotiedot\n\n      var postalCode = angularBacon.watch($scope, \"yhteystiedot['Postinumero'].answer\").debounce(settings.modelDebounce).skipDuplicates().map(\".trim\")\n      var query = angularBacon.resource(restResources.postOffice.get)\n\n      function length(len) { return function(str) { return str.length === len } }\n      function not(f) { return function(val) { return !f(val) }}\n\n      var responses = postalCode.filter(length(5))\n        .flatMapLatest(function(code) {\n          return query({postalCode: code })\n        })\n\n      responses.onValue(function(response) {\n        $scope.application.calculatedValues.postOffice = response.postOffice\n        $scope.yhteystiedot.Postinumero.setErrors([])\n      })\n\n      responses.onError(function() {\n        $scope.application.calculatedValues.postOffice = \"\"\n      })\n\n      postalCode.filter(not(length(5))).onValue(function() {\n        $scope.$apply(function() {\n          $scope.application.calculatedValues.postOffice = \"\"\n        })\n      })\n    }\n  }\n}]\n","export default ['$parse', function ($parse) {\n  return {\n    link: function (scope, element, attrs) {\n      var wrapper = $(\"<div/>\", { class: \"clearable-input\" })\n      var clearBtn = $(\"<div/>\", { class: \"clear-btn\" })\n      var container = element.wrap(wrapper).parent()\n      container.prepend(clearBtn)\n\n      clearBtn.on(\"click\", function() {\n        scope.$apply(function() {\n          var model = $parse(attrs.ngModel)\n          model.assign(scope, \"\")\n        })\n      })\n\n      scope.$watch(attrs.ngModel, function(val) {\n        clearBtn.toggle(val && (val.length > 0))\n      })\n    }\n  }\n}]\n","import localize from '../../js/localization';\n\nexport default [\"restResources\", function (restResources) {\n  return {\n    restrict: 'E',\n    scope: {\n      application: '=',\n      tulos: '='\n    },\n    template: require('./lasnaoloilmoittautuminen.html'),\n    link: function ($scope, element, attrs) {\n      $scope.localization = localize;\n      $scope.states = {\n        // Spring hakus\n        semester: 'LASNA_KOKO_LUKUVUOSI',\n        autumn: 'LASNA_SYKSY',\n\n        // Autumn hakus\n        spring: 'LASNA'\n      };\n      $scope.reserveStates = {\n        LASNA_KOKO_LUKUVUOSI: 'semester',\n        LASNA_SYKSY: 'autumn',\n        LASNA: 'spring'\n      };\n\n      $scope.init = function() {\n        var hakutoive = $scope.application.hakutoiveet.find(function(element) {\n            return element.data['Koulutus-id'] === $scope.tulos.hakukohdeOid;\n        });\n\n        $scope.tulos.koulutuksenAlkaminen = hakutoive.koulutuksenAlkaminen ? hakutoive.koulutuksenAlkaminen : { kausiUri: 'kausi_s#1' };\n\n        $scope.ilmoittautuminen = $scope.reserveStates[$scope.tulos.ilmoittautumistila.ilmoittautumistila];\n        $scope.ilmoittautunut = !!$scope.ilmoittautuminen;\n      }();\n\n      $scope.postLasnaoloilmoittautuminen = function() {\n        $scope.error = false;\n        var body = {\n            hakukohdeOid: $scope.tulos.hakukohdeOid,\n            muokkaaja: '',\n            tila: $scope.states[$scope.ilmoittautuminen],\n            selite: 'Omien sivujen läsnäoloilmoittautuminen'\n        };\n        restResources.lasnaoloilmoittautuminen.save({ hakuOid: $scope.application.haku.oid , hakemusOid: $scope.application.oid }, JSON.stringify(body), onSuccess, onError);\n      };\n\n      $scope.getStateTranslation = function() {\n        return localize('lasnaoloilmoittautuminen.' + $scope.ilmoittautuminen);\n      };\n\n      $scope.getErrorTranslation = function() {\n          return localize('lasnaoloilmoittautuminen.error.' + $scope.error);\n      };\n\n      $scope.schoolStartsInSpring = function () {\n        return $scope.tulos.koulutuksenAlkaminen.kausiUri === 'kausi_k#1'\n      };\n\n      $scope.schoolStartsInAutumn = function () {\n        return $scope.tulos.koulutuksenAlkaminen.kausiUri === 'kausi_s#1'\n      };\n\n      function onSuccess() {\n        $scope.tulos.ilmoittautumistila.ilmoittautumisaika.tehty = new Date();\n        $scope.ilmoittautunut = true;\n      }\n\n      function onError(err) {\n        console.log(err);\n        switch (err.status) {\n          case 401:\n            document.location.replace(window.url(\"omatsivut.login\"));\n            break;\n          case 404:\n            $scope.error = 'notFound';\n            break;\n          default:\n            $scope.error = 'other';\n        }\n      }\n\n      $scope.getEnrolmentMessageKeys = function() {\n        const date = $scope.tulos.ilmoittautumisenAikaleima ? new Date($scope.tulos.ilmoittautumisenAikaleima) : new Date();\n        return {date: date.toLocaleDateString('fi-FI'), time: date.toLocaleTimeString('fi-FI')}\n      };\n    }\n  }\n}]\n","import { getLanguage } from '../staticResources';\nimport { getBearerToken, removeBearerToken } from '../util';\nimport Hakemus from '../models/hakemus';\n\nexport default ['$scope', '$location', '$http', function($scope, $location, $http) {\n  const decodedUrl = decodeURIComponent($location.url());\n  const matches = decodedUrl.match(/token\\/(.+)/);\n  const token = matches && matches[1];\n  const baseUrl = 'insecure/applications/application/';\n\n  // Ladataan sivu sen jälkeen kun vastaanottotieto on lähetetty\n  $scope.$on(\"hakutoive-vastaanotettu\", function() {\n    loadApplication();\n  });\n\n  $scope.lang = getLanguage();\n  loadApplication();\n\n  $scope.logout = function() {\n    removeBearerToken();\n    $scope.application = null;\n    $scope.loggedOut = true;\n  };\n\n   function loadApplication() {\n    if (token || getBearerToken()) {\n      $scope.loading = true;\n      $location.hash('/').replace();\n      const suffix = token ? 'token/' + token : 'session';\n      $http.get(baseUrl + suffix).then(\n        function (response) {\n          $scope.loading = false;\n          $scope.application = new Hakemus(response.data);\n          $scope.application.oiliJwt = response.oiliJwt;\n          $scope.application.isHakutoiveidenMuokkaus = true;\n          const henkilotiedot = response.data.hakemus.answers.henkilotiedot;\n          $scope.allowVastaanotto = !henkilotiedot.Henkilotunnus;\n          $scope.user = {\n            name: henkilotiedot.Kutsumanimi + ' ' + henkilotiedot.Sukunimi\n          }\n        },\n        function (response) {\n          $scope.loading = false;\n          if (404 === response.status) {\n            $scope.errorMessage = 'error.noActiveApplication'\n          } else if (response.data && response.data.error === 'expiredToken') {\n            $scope.infoMessage = 'info.expiredToken'\n          } else if (401 === response.status || 403 === response.status) {\n            $scope.errorMessage = 'error.invalidToken'\n          } else {\n            $scope.errorMessage = 'error.serverError'\n          }\n        })\n    } else {\n      $scope.errorMessage = 'error.noTokenAvailable'\n    }\n  };\n}]\n","import localize from '../localization';\n\nexport default [\"$scope\", function($scope) {\n  $scope.localization = localize;\n  $scope.questionAnswered = function() {\n    $scope.$emit(\"questionAnswered\")\n  }\n}]\n","import {getLanguage} from '../staticResources';\nimport Hakutoive from '../models/hakutoive';\nconst _ = require('underscore');\n\nexport default [\"$scope\", \"$timeout\", \"settings\", \"restResources\", function($scope, $timeout, settings, restResources) {\n  $scope.isEditingDisabled = function() { return !$scope.hakutoive.isNew || !$scope.application.isEditable($scope.$index) }\n\n  $scope.isKoulutusSelectable = function() { return !$scope.isEditingDisabled() && this.hakutoive.hasOpetuspiste() && !_.isEmpty($scope.koulutusList) }\n\n  $scope.isLoadingKoulutusList = function() { return !$scope.isEditingDisabled() && this.hakutoive.hasOpetuspiste() && _.isEmpty($scope.koulutusList) }\n\n  $scope.showNotification = function(type) {\n    var oid = $scope.hakutoive.data[\"Koulutus-id\"]\n    var notificationsForAo = $scope.application.notifications[oid] || {}\n    return notificationsForAo[type]\n  }\n\n  $scope.isNonPrioritizedAndEditable = function () { return this.application.haku.usePriority || $scope.application.isEditable($scope.$index) }\n\n  $scope.opetuspisteValittu = function($item, $model, $label) {\n    this.hakutoive.setOpetuspiste($item.id, $item.name);\n    $scope.koulutusList = [];\n\n    restResources.koulutukset.query({\n      asId: this.application.haku.oid,\n      opetuspisteId: $item.id,\n      baseEducation: this.application.educationBackground.baseEducation,\n      vocational: this.application.educationBackground.vocational,\n      uiLang: getLanguage()\n    }).$promise.then(koulutukset => {\n      $scope.koulutusList = koulutukset;\n      if (koulutukset.length === 1) {\n        $scope.valittuKoulutus = koulutukset[0];\n        $scope.hakutoive.setKoulutus(koulutukset[0]);\n      }\n    })\n  }\n\n  $scope.opetuspisteModified = function() {\n    if (_.isEmpty(this.hakutoive.data.Opetuspiste))\n      this.hakutoive.clear()\n    else\n      this.hakutoive.removeOpetuspisteData()\n  }\n\n  $scope.removeHakutoive = function(index) {\n    $scope.application.removePreference(index)\n    $scope.application.addPreference(new Hakutoive({}))\n  }\n\n  $scope.canRemovePreference = function(index) {\n    return $scope.application.hasPreference(index) && !$scope.application.preferenceLocked(index)\n  }\n\n  $scope.koulutusValittu = function(valittuKoulutus) {\n    if (valittuKoulutus) {\n      this.hakutoive.setKoulutus(valittuKoulutus);\n    }\n  }\n\n  $scope.findOpetuspiste = function(val) {\n    return restResources.opetuspisteet.query({\n      query: val,\n      asId: $scope.application.haku.oid,\n      lang: getLanguage()\n    }).$promise\n  };\n}]\n","import 'babel-polyfill';\nimport angular from 'angular';\nimport ngResource from 'angular-resource';\nimport ngSanitize from 'angular-sanitize';\nimport ngAnimate from 'angular-animate';\nimport ngCookies from 'angular-cookies';\nimport typeahead from 'angular-ui-bootstrap/src/typeahead/index.js';\nimport '../less/main.less';\nimport '../less/hakutoiveidenMuokkaus.less';\nimport '../less/preview.less';\n\nrequire('./recursionHelper');\nrequire('../lib/angular-debounce');\nimport { init } from './staticResources';\nimport { isTestMode } from './util';\n// Services\nimport ApplicationValidator from './services/applicationValidator';\nimport AngularBacon from './services/angularBacon';\nimport localize from './localization';\nimport RestResources from './restResources';\nimport Settings from './settings';\nimport router from './config/router';\n// Directives\nimport ApplicationList from './directives/applicationList';\nimport Notification from './directives/notification';\nimport Confirm from './directives/confirm';\nimport Question from './directives/question';\nimport LocalizedLink from './directives/localizedLink';\nimport FormattedTime from './directives/formattedTime';\nimport Sortable from './directives/sortable';\nimport DisableClickFocus from './directives/disableClickFocus';\nimport IgnoreDirty from './directives/ignoreDirty';\nimport Application from './directives/application';\nimport HakutoiveenVastaanotto from './directives/hakutoiveenVastaanotto';\nimport Ilmoittautuminen from './directives/ilmoittautuminen';\nimport Kela from './directives/kela';\nimport Hakutoiveet from './directives/hakutoiveet';\nimport Valintatulos from './directives/valintatulos';\nimport Henkilotiedot from './directives/henkilotiedot';\nimport ApplicationPeriods from './directives/applicationPeriods';\nimport ClearableInput from './directives/clearableInput';\nimport Callout from './directives/callout';\nimport Lasnaoloilmoittautuminen from '../components/lasnaoloilmoittautuminen/lasnaoloilmoittautuminen';\n\n// Controllers\nimport HakutoiveidenMuokkausController from './controllers/hakutoiveidenMuokkaus';\nimport AdditionalQuestionController from './controllers/additionalQuestionController';\nimport HakutoiveController from './controllers/hakutoiveController';\n\nimport moment from './moment';\nwindow.moment = moment;\n\nrequire(\"../lib/oph_urls.js/index.js\");\nrequire(\"./omatsivut-web-oph.js\");\n\nwindow.Service = {\n  login: function() {\n    document.location.href = \"/omatsivut/login\";\n  },\n  logout: function() {\n    document.location.href = \"/omatsivut/logout\";\n  },\n  getUser: function() {\n    return new Promise((resolve, reject) => {\n      fetch('/omatsivut/session', {\n        credentials: 'same-origin'\n      })\n      .then((response) => {\n        if (response.status === 200) {\n          response.json().then((user) => {\n            resolve(user);\n          })\n        } else {\n          reject(new Error('No session found!'));\n        }\n      }).catch(err => {\n        console.error(err);\n        reject(new Error('Failed to fetch session!'));\n      });\n    });\n  }\n};\n//  \"exceptionOverride\"\nconst listApp = angular.module('listApp', [ngResource, ngSanitize, ngAnimate, ngCookies, typeahead, \"RecursionHelper\", \"debounce\"]);\n\nlistApp\n  .config(router)\n  .factory('restResources', RestResources)\n  .factory('angularBacon', AngularBacon)\n  .factory('applicationValidator', ApplicationValidator)\n  .factory('settings', Settings)\n  .directive('applicationList', ApplicationList)\n  .directive('notification', Notification)\n  .directive('confirm', Confirm)\n  .directive('question', Question)\n  .directive('localizedLink', LocalizedLink)\n  .directive('formattedTime', FormattedTime)\n  .directive('sortable', Sortable)\n  .directive('disableClickFocus', DisableClickFocus)\n  .directive('application', Application)\n  .directive('hakutoiveenVastaanotto', HakutoiveenVastaanotto)\n  .directive('ilmoittautuminen', Ilmoittautuminen)\n  .directive('kela', Kela)\n  .directive('hakutoiveet', Hakutoiveet)\n  .directive('valintatulos', Valintatulos)\n  .directive('henkilotiedot', Henkilotiedot)\n  .directive('applicationPeriods', ApplicationPeriods)\n  .directive('ignoreDirty', IgnoreDirty)\n  .directive('clearableInput', ClearableInput)\n  .directive('callout', Callout)\n  .directive('lasnaoloilmoittautuminen', Lasnaoloilmoittautuminen)\n  .controller('hakutoiveidenMuokkausController', HakutoiveidenMuokkausController)\n  .controller('additionalQuestionController', AdditionalQuestionController)\n  .controller('hakutoiveController', HakutoiveController);\n\nlistApp.run(['$rootScope', function ($rootScope) {\n  $rootScope.localization = localize;\n}]);\n\nlistApp.run(['$http', '$cookies', function($http, $cookies) {\n  $http.defaults.headers.common['clientSubSystemCode'] = \"omatsivut.frontend\";\n  if($cookies['CSRF']) {\n    $http.defaults.headers.common['CSRF'] = $cookies['CSRF'];\n  }\n}]);\n\nangular.element(document).ready(\n  init()\n    .then(() => {\n      angular.bootstrap(document, ['listApp']);\n      document.getElementsByTagName('body')[0].setAttribute('aria-busy', 'false');\n    })\n);\n\nfunction logExceptionToPiwik(msg, data) {\n  if (typeof _paq === 'undefined' || _paq == null) {\n    console.warn(\"Piwik not present, cannot log: \" + msg + \"\\n\" + data)\n  } else {\n    console.warn(msg + \"\\n\" + data);\n    _paq.push([\"trackEvent\", document.location, msg, data])\n  }\n}\n\nwindow.onerror = function(errorMsg, url, lineNumber, columnNumber, exception) {\n  let data = url + \":\" + lineNumber;\n  if (typeof columnNumber !== \"undefined\") data += \":\" + columnNumber;\n  if (typeof exception !==  \"undefined\") data += \"\\n\" + exception.stack;\n  logExceptionToPiwik(errorMsg, data)\n};\n\nangular.module(\"exceptionOverride\", []).factory(\"$exceptionHandler\", function() {\n  return function (exception) {\n    if (isTestMode()) {\n      throw exception\n    } else {\n      logExceptionToPiwik(exception.message, exception.stack)\n    }\n  };\n});\n","import Bacon from 'baconjs';\n\nexport default function () {\n  return {\n    watch: function(scope, expression) {\n      let stream = new Bacon.Bus();\n      scope.$watch(expression, function(val, prevVal) { if (val !== prevVal) stream.push(val) });\n      return stream\n    },\n\n    resource: function(resource) {\n      return function(queryParams, body) {\n        return Bacon.fromNodeCallback(function (callback) {\n          resource(queryParams, body, success, error);\n\n          function success(value) {\n            callback(null, value)\n          }\n\n          function error(response) {\n            callback(response)\n          }\n        })\n      }\n    }\n  }\n}\n","export default class Notification {\n  constructor() {\n    this.restrict = 'E';\n    this.scope = {\n      message: '@'\n    };\n    this.template = require('./notification.html');\n  }\n\n  link(scope) {\n    scope.visible = true;\n    scope.close = () => scope.visible = false;\n  }\n}\n","export default function () {\n  return {\n    scope: {\n      callback: '&confirmAction'\n    },\n    link: function (scope, element, attrs) {\n      var originalText = \"\"\n\n      function cancel() {\n        element.removeClass(\"confirm\")\n        element.text(originalText)\n        element.off(\".cancelConfirm\")\n        $(\"body\").off(\".cancelConfirm\")\n      }\n\n      element.on(\"click\", function () {\n        if (element.hasClass(\"confirm\")) {\n          scope.$apply(scope.callback)\n          cancel()\n        } else {\n          element.hide()\n          element.addClass(\"confirm\")\n          originalText = element.text()\n          element.text(attrs.confirmText)\n          $(\"body\").one(\"click.cancelConfirm\", cancel)\n          element.fadeIn(100)\n        }\n        return false\n      })\n    }\n  }\n}\n","import localize from '../localization';\n\nexport default function() {\n  return {\n    restrict: \"E\",\n    template: \"\",\n    link: function (scope, element, attrs) {\n      var linkString = localize(attrs[\"key\"])\n      var link = $(\"<span>\" + linkString + \"</span>\")\n        .find(\"a\")\n        .attr(\"href\", attrs[\"href\"])\n        .attr(\"target\", attrs[\"target\"])\n        .end()\n      // angular re-evaluates the original href expression and attrs.href needs to be watched\n      // <localized-link key=\"message.rememberSendAttachments\"\n      //     href=\"{{url('omatsivut.applications.preview', application.oid) + '#liitteet'}}\" target=\"_blank\">\n      // link function is called with: attrs.href == \"#liitteet\"\n      // watched value for attrs.href becomes: \"/omatsivut/secure/applications/preview/1.2.246.562.11.00000877699#liitteet\"\n      // angular, WTF?\n      scope.$watch(\"attrs.href\", function(value) {\n        link.find(\"a\").attr(\"href\", attrs.href)\n      });\n      element.append(link)\n    }\n  }\n}\n","export default function () {\n  return {\n    restrict: \"A\",\n    template: \"\",\n    scope: {\n      formattedTime: \"=formattedTime\"\n    },\n    link: function (scope, element, attrs) {\n      scope.$watch(\"formattedTime\", function(dt) {\n        if (dt == null) {\n          return \"\"\n        } else {\n          var m = window.moment(dt)\n          element.attr(\"datetime\", m.format())\n          element.text(m.format(attrs.format || 'LLLL').replace(/,/g, \"\"))\n        }\n      })\n    }\n  }\n}\n","export default function() {\n  return {\n    link: function (scope, element) {\n      element.on(\"mousedown\", function(event) {\n        event.preventDefault()\n      })\n    }\n  }\n}\n","import localize from '../localization';\n\nexport default function () {\n  return {\n    restrict: 'E',\n    scope: {\n      kela: '&'\n    },\n    template: require('./kela.html'),\n    link: function (scope, element, attrs) {\n      scope.localization = localize;\n    }\n  }\n}\n","import localize from '../localization';\n\nexport default function () {\n  return {\n    restrict: 'E',\n    scope: {\n      haku: '&haku'\n    },\n    template: require('./applicationPeriods.html'),\n    link: function ($scope, element, attrs) {\n      $scope.localization = localize;\n      $scope.periods = function() { return $scope.haku().applicationPeriods }\n\n      $scope.applicationPeriodString = function(index) {\n        if ($scope.periods().length === 1)\n          return localize(\"label.applicationPeriod\")\n        else\n          return (index+1) + \". \" + localize(\"label.applicationPeriod\").toLowerCase()\n      }\n\n      $scope.statusString = function(period) {\n        if (period.active)\n          return localize(\"label.applicationPeriodActive\")\n        else if (period.end < new Date().getTime())\n          return localize(\"label.applicationPeriodPassed\")\n        else\n          return localize(\"label.applicationPeriodNotStarted\")\n      }\n    }\n  }\n}\n","export default function() {\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link: function(scope, elm, attrs, ctrl) {\n      ctrl.$pristine = false;\n    }\n  }\n}\n","export default function () {\n  return {\n    link: function (scope, element, attrs) {\n      element.addClass(\"callout\")\n      element.prepend($(\"<div/>\", {class: \"callout-close\"}))\n      element.on(\"click\", \".callout-close\", function () {\n        element.fadeOut(\"fast\")\n      })\n      scope.$on(\"show-callout\", function (evt, calloutId, toggle) {\n        if (attrs.callout == calloutId) {\n          if (toggle)\n            element.fadeIn(\"fast\")\n          else\n            element.fadeOut(\"fast\")\n        }\n      })\n    }\n  }\n}\n"],"sourceRoot":""}